<!DOCTYPE html>
<!-- saved from url=(0357)https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default -->
<html lang="en" dir="ltr" class="js no-touch localstorage sessionstorage contenteditable use-opacity-transitions"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Disqus Comments</title>

    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    
    
    <style>
        html {
            overflow: hidden;
        }

        
    </style>

<link rel="stylesheet" href="lounge.9f080edd1f18b791c5130480ded04de1.css"><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="remote/config" src="config.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="common.bundle" src="common.bundle.c86a0e268cd1d8f60878559cc457ec05.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="lounge.bundle" src="lounge.bundle.7836a9238ba8ec8cbdac2066a1f25448.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="ga" src="ga.js"></script><style id="css_1446696001387"></style><!--<base target="_parent">--><base href="." target="_parent"><link rel="preconnect" href="https://tempest.services.disqus.com/"><link rel="dns-prefetch" href="https://tempest.services.disqus.com/"><link rel="stylesheet" href="discovery.82e4011d3fa0aabedc6bc7695005ebfe.css"><script src="event.js" async="" charset="UTF-8"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="discovery/main" src="discovery.bundle.4597a89d98d18738b9c28818716dfbf0.js"></script></head>
<body class="serif">
    

    
    <!--[if lt IE 10]><p style="color: #fff; background-color: #f05f70; padding: 10px; margin-top: 20px;">
        You're using a browser that Disqus plans to stop supporting soon. For more information, visit our list of 
        <a href="https://help.disqus.com/customer/portal/articles/466228-which-browsers-does-disqus-work-with-" style="color: #fff; text-decoration: underline;">supported browsers</a>
        and consider upgrading.
    </p><![endif]-->
    <div id="error" style="display:none; text-align: center">
        <p>We were unable to load Disqus. If you are a moderator please see our <a href="https://docs.disqus.com/help/83/"> troubleshooting guide</a>. </p>
    </div>

    
    <script type="text/json" id="disqus-forumData">{"session":{"canModerate":false,"audienceSyncVerified":false,"mustVerify":false,"canReply":true,"mustVerifyEmail":false},"features":{},"forum":{"category":"Tech","description":"","founder":"18209436","settings":{"supportLevel":0,"adsDRNativeEnabled":false,"disable3rdPartyTrackers":false,"moderatorText":"","ssoRequired":false,"linkAffiliationEnabled":false,"hasCustomAvatar":false,"organicDiscoveryEnabled":true,"colorScheme":"auto","discoveryMax":false,"discoverySettingsUrl":"https://nikic.disqus.com/admin/settings/ads/","adsVideoEnabled":false,"allowAnonPost":true,"allowMedia":false,"promotedDiscoveryEnabled":false,"allowAnonVotes":false,"mustVerify":false,"mustVerifyEmail":false,"discoveryVariant":"default","adsBannerEnabled":false,"audienceSyncEnabled":false,"typeface":"auto","discoveryLocked":false,"discoveryThumbnailsEnabled":false,"isVIP":false},"url":"https://nikic.github.io","guidelines":null,"favicon":{"permalink":"https://disqus.com/api/forums/favicons/nikic.jpg","cache":"//a.disquscdn.com/1446615304/images/favicon-default.png"},"language":"en","avatar":{"small":{"permalink":"https://disqus.com/api/forums/avatars/nikic.jpg?size=32","cache":"//a.disquscdn.com/1446615304/images/noavatar32.png"},"large":{"permalink":"https://disqus.com/api/forums/avatars/nikic.jpg?size=92","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"}},"pk":"1090839","signedUrl":"https://disq.us/?url=https%3A%2F%2Fnikic.github.io&key=g4lMkkHgOGTg7Qro-iOi1Q","raw_guidelines":null,"id":"nikic","channel":null,"name":"nikic's Blog"}}</script>

    
    <script type="text/json" id="disqus-threadData">{"cursor":{"hasPrev":false,"prev":null,"total":29,"hasNext":false,"next":"1:0:0"},"code":0,"response":{"lastModified":1439030248,"posts":[{"forum":"nikic","parent":null,"isApproved":true,"author":{"username":"whycantibeanon","about":"","name":"whycantibeanon","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.0990469999999999,"profileUrl":"https://disqus.com/by/whycantibeanon/","url":"","reputation":1.0990469999999999,"location":"","isPrivate":true,"signedUrl":"","isPrimary":true,"joinedAt":"2013-03-12T16:41:13","id":"45516665","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/whycantibeanon.jpg","cache":"//a.disquscdn.com/uploads/users/4551/6665/avatar32.jpg?1436829426"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/whycantibeanon.jpg","cache":"//a.disquscdn.com/uploads/users/4551/6665/avatar92.jpg?1436829426","large":{"permalink":"https://disqus.com/api/users/avatars/whycantibeanon.jpg","cache":"//a.disquscdn.com/uploads/users/4551/6665/avatar92.jpg?1436829426"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":1,"raw_message":"Any estimate on the release of PHP 7?","createdAt":"2014-12-23T05:08:48","id":"1755678108","thread":"3350770009","depth":0,"numReports":0,"isDeletedByAuthor":false,"likes":4,"isEdited":false,"message":"\u003cp>Any estimate on the release of PHP 7?\u003c/p>","isSpam":false,"isHighlighted":false,"points":3},{"forum":"nikic","parent":1755678108,"isApproved":true,"author":{"username":"disqus_tnH0MCRMRS","about":"","name":"Steve Marshall","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.185827,"profileUrl":"https://disqus.com/by/disqus_tnH0MCRMRS/","url":"","reputation":1.185827,"location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"joinedAt":"2014-01-17T13:00:21","id":"91034584","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/disqus_tnH0MCRMRS.jpg","cache":"//a.disquscdn.com/uploads/users/9103/4584/avatar32.jpg?1421888863"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/disqus_tnH0MCRMRS.jpg","cache":"//a.disquscdn.com/uploads/users/9103/4584/avatar92.jpg?1421888863","large":{"permalink":"https://disqus.com/api/users/avatars/disqus_tnH0MCRMRS.jpg","cache":"//a.disquscdn.com/uploads/users/9103/4584/avatar92.jpg?1421888863"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":1,"raw_message":"They shouldn't have given it a number. Now  people are going to start writing PHP 7 books and then PHP 7 will never come out. it's going to be PHP 6 all over again.","createdAt":"2014-12-23T13:52:22","id":"1756054480","thread":"3350770009","depth":1,"numReports":0,"isDeletedByAuthor":false,"likes":16,"isEdited":false,"message":"\u003cp>They shouldn't have given it a number. Now  people are going to start writing PHP 7 books and then PHP 7 will never come out. it's going to be PHP 6 all over again.\u003c/p>","isSpam":false,"isHighlighted":false,"points":15},{"forum":"nikic","parent":1755678108,"isApproved":true,"author":{"username":"edwinlunando","about":"Software engineer","name":"Edwin Lunando","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.24213,"profileUrl":"https://disqus.com/by/edwinlunando/","url":"http://edwinlunando.blogspot.com/","reputation":1.24213,"location":"Jakarta, Indonesia","isPrivate":false,"signedUrl":"http://disq.us/?url=http%3A%2F%2Fedwinlunando.blogspot.com%2F&key=NWXHxfy-YoVUFzQlyPmSKw","isPrimary":true,"joinedAt":"2012-06-23T16:12:17","id":"27827826","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/edwinlunando.jpg","cache":"//a.disquscdn.com/uploads/users/2782/7826/avatar32.jpg?1428643447"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/edwinlunando.jpg","cache":"//a.disquscdn.com/uploads/users/2782/7826/avatar92.jpg?1428643447","large":{"permalink":"https://disqus.com/api/users/avatars/edwinlunando.jpg","cache":"//a.disquscdn.com/uploads/users/2782/7826/avatar92.jpg?1428643447"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"Around November 2015. https://wiki.php.net/rfc/php7timeline","createdAt":"2014-12-23T05:19:42","id":"1755685767","thread":"3350770009","depth":1,"numReports":0,"isDeletedByAuthor":false,"likes":1,"isEdited":true,"message":"\u003cp>Around November 2015. \u003ca href=\"https://wiki.php.net/rfc/php7timeline\" rel=\"nofollow\">https://wiki.php.net/rfc/php7t...\u003c/a>\u003c/p>","isSpam":false,"isHighlighted":false,"points":1},{"forum":"nikic","parent":null,"isApproved":true,"author":{"name":"mogui","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar32.png","cache":"//a.disquscdn.com/1446615304/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"It's me that get it wrong or this line: \n\nuint32_t idx = ht->arData[h & ht->nTableMask]; should be:\n\nuint32_t idx = ht->arHash[h & ht->nTableMask];\n\nGreat article!","createdAt":"2014-12-23T13:48:22","id":"1756050007","thread":"3350770009","depth":0,"numReports":0,"isDeletedByAuthor":false,"likes":1,"isEdited":false,"message":"\u003cp>It's me that get it wrong or this line:\u003c/p>\u003cp>uint32_t idx = ht-&gt;arData[h &amp; ht-&gt;nTableMask]; should be:\u003c/p>\u003cp>uint32_t idx = ht-&gt;arHash[h &amp; ht-&gt;nTableMask];\u003c/p>\u003cp>Great article!\u003c/p>","isSpam":false,"isHighlighted":false,"points":1},{"forum":"nikic","parent":1756050007,"isApproved":true,"author":{"username":"nikic","about":"","name":"nikic","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.282646,"profileUrl":"https://disqus.com/by/nikic/","url":"","reputation":1.282646,"location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"joinedAt":"2011-10-21T21:41:03","id":"18209436","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/nikic.jpg","cache":"//a.disquscdn.com/1446615304/images/noavatar32.png"},"isCustom":false,"permalink":"https://disqus.com/api/users/avatars/nikic.jpg","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png","large":{"permalink":"https://disqus.com/api/users/avatars/nikic.jpg","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"You're right, it's fixed now :)","createdAt":"2014-12-23T13:53:43","id":"1756056219","thread":"3350770009","depth":1,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>You're right, it's fixed now :)\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":1756056219,"isApproved":true,"author":{"name":"mogui","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar32.png","cache":"//a.disquscdn.com/1446615304/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"Again my compliments for the article, really awesome reading!","createdAt":"2014-12-23T16:14:50","id":"1756237694","thread":"3350770009","depth":2,"numReports":0,"isDeletedByAuthor":false,"likes":1,"isEdited":false,"message":"\u003cp>Again my compliments for the article, really awesome reading!\u003c/p>","isSpam":false,"isHighlighted":false,"points":1},{"forum":"nikic","parent":null,"isApproved":true,"author":{"name":"Tomasz","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar32.png","cache":"//a.disquscdn.com/1446615304/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"Thank you for such an comprehensive explanation of this subject :)","createdAt":"2015-08-08T10:37:27","id":"2181076719","thread":"3350770009","depth":0,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>Thank you for such an comprehensive explanation of this subject :)\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":null,"isApproved":true,"author":{"username":"vrana","about":"PHP programmer","name":"Jakub Vr\u00e1na","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.2754079999999999,"profileUrl":"https://disqus.com/by/vrana/","url":"http://www.vrana.cz/","reputation":1.2754079999999999,"location":"Praha, Czech Republic","isPrivate":false,"signedUrl":"http://disq.us/?url=http%3A%2F%2Fwww.vrana.cz%2F&key=OnHFWGNc2ayTEJZu1ZO85g","isPrimary":true,"joinedAt":"2010-11-15T12:39:31","id":"5364400","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/vrana.jpg","cache":"//a.disquscdn.com/uploads/users/536/4400/avatar32.jpg?1436553309"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/vrana.jpg","cache":"//a.disquscdn.com/uploads/users/536/4400/avatar92.jpg?1436553309","large":{"permalink":"https://disqus.com/api/users/avatars/vrana.jpg","cache":"//a.disquscdn.com/uploads/users/536/4400/avatar92.jpg?1436553309"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"Great article, thanks for sharing. It might be worth mentioning that another rule for using packed hashtables is that they must have at least 50% fullness (http://lxr.php.net/xref/phpng/Zend/zend_hash.c#442). Not having this rule would occupy lots of memory for sparse array (but with increasing numerical indexes).","createdAt":"2015-07-10T18:35:07","id":"2129027693","thread":"3350770009","depth":0,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>Great article, thanks for sharing. It might be worth mentioning that another rule for using packed hashtables is that they must have at least 50% fullness (\u003ca href=\"http://lxr.php.net/xref/phpng/Zend/zend_hash.c#442)\" rel=\"nofollow\">http://lxr.php.net/xref/phpng/...\u003c/a>. Not having this rule would occupy lots of memory for sparse array (but with increasing numerical indexes).\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":null,"isApproved":true,"author":{"name":"xyz9012345","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar32.png","cache":"//a.disquscdn.com/1446615304/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"How can ht->arHash[h & ht->nTableMask] can find the idx in ht->arData for a particular key during hash table lookup when the key is not used during populating the array? Am I missing something here?","createdAt":"2015-03-01T04:10:56","id":"1881332686","thread":"3350770009","depth":0,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>How can ht-&gt;arHash[h &amp; ht-&gt;nTableMask] can find the idx in ht-&gt;arData for a particular key during hash table lookup when the key is not used during populating the array? Am I missing something here?\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":null,"isApproved":true,"author":{"name":"Guest","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar32.png","cache":"//a.disquscdn.com/1446615304/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"why php team is not swapping zend engine with hhvm, when they are saying \"JIT compiler to native code would be a huge step forward for the zend engine. But it won't bring it to the performance level of HHVM\". than why not work on other possible things to grow php? ego or something else? #justcurious","createdAt":"2015-02-09T05:25:39","id":"1843096244","thread":"3350770009","depth":0,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>why php team is not swapping zend engine with hhvm, when they are saying \"JIT compiler to native code would be a huge step forward for the zend engine. But it won't bring it to the performance level of HHVM\". than why not work on other possible things to grow php? ego or something else? #justcurious\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":null,"isApproved":true,"author":{"username":"mainalikishan","about":"","name":"mainalikishan","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.235912,"profileUrl":"https://disqus.com/by/mainalikishan/","url":"","reputation":1.235912,"location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"joinedAt":"2011-08-19T08:19:10","id":"15742795","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/mainalikishan.jpg","cache":"//a.disquscdn.com/uploads/users/1574/2795/avatar32.jpg?1442910783"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/mainalikishan.jpg","cache":"//a.disquscdn.com/uploads/users/1574/2795/avatar92.jpg?1442910783","large":{"permalink":"https://disqus.com/api/users/avatars/mainalikishan.jpg","cache":"//a.disquscdn.com/uploads/users/1574/2795/avatar92.jpg?1442910783"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"For the same code above, using php 5.6 on HHVM consumes only 2.00 MiB in 64 bit system...whereas php 7 consumes 4.00 MiB. Zend engine still looks far behind :(","createdAt":"2015-02-08T14:49:43","id":"1841982254","thread":"3350770009","depth":0,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":true,"message":"\u003cp>For the same code above, using php 5.6 on HHVM consumes only 2.00 MiB in 64 bit system...whereas php 7 consumes 4.00 MiB. Zend engine still looks far behind :(\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":1841982254,"isApproved":true,"author":{"username":"nikic","about":"","name":"nikic","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.282646,"profileUrl":"https://disqus.com/by/nikic/","url":"","reputation":1.282646,"location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"joinedAt":"2011-10-21T21:41:03","id":"18209436","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/nikic.jpg","cache":"//a.disquscdn.com/1446615304/images/noavatar32.png"},"isCustom":false,"permalink":"https://disqus.com/api/users/avatars/nikic.jpg","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png","large":{"permalink":"https://disqus.com/api/users/avatars/nikic.jpg","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"The reason behind this difference is the \"full packing\" mentioned above where continuous integer-indexed arrays would be stored as simple zval arrays. HHVM implements this and ZE doesn't. For the record, we have implemented this as well (see https://github.com/nikic/php-src/tree/fullyPackedHash), but found that while this improves performance in artificial scenarios, it may have negative impact on real code. We might still introduce it with a better implementation.\n\n\nI am currently investigating switching to an open-addressing implementation, which would save 4-8 bytes per bucket in all cases (not just continuous integer-indexed). Not sure if something will come of it, it's quite likely that it may negatively affect performance as well.","createdAt":"2015-02-09T07:48:56","id":"1843197525","thread":"3350770009","depth":1,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>The reason behind this difference is the \"full packing\" mentioned above where continuous integer-indexed arrays would be stored as simple zval arrays. HHVM implements this and ZE doesn't. For the record, we have implemented this as well (see \u003ca href=\"https://github.com/nikic/php-src/tree/fullyPackedHash)\" rel=\"nofollow\">https://github.com/nikic/php-s...\u003c/a>, but found that while this improves performance in artificial scenarios, it may have negative impact on real code. We might still introduce it with a better implementation.\u003c/p>\u003cp>I am currently investigating switching to an open-addressing implementation, which would save 4-8 bytes per bucket in all cases (not just continuous integer-indexed). Not sure if something will come of it, it's quite likely that it may negatively affect performance as well.\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":null,"isApproved":true,"author":{"username":"disqus_0p2wI0jyiX","about":"","name":"Syaiful Bahri","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.237137,"profileUrl":"https://disqus.com/by/disqus_0p2wI0jyiX/","url":"","reputation":1.237137,"location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"joinedAt":"2013-12-15T10:44:43","id":"86178424","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/disqus_0p2wI0jyiX.jpg","cache":"//a.disquscdn.com/uploads/users/8617/8424/avatar32.jpg?1387104284"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/disqus_0p2wI0jyiX.jpg","cache":"//a.disquscdn.com/uploads/users/8617/8424/avatar92.jpg?1387104284","large":{"permalink":"https://disqus.com/api/users/avatars/disqus_0p2wI0jyiX.jpg","cache":"//a.disquscdn.com/uploads/users/8617/8424/avatar92.jpg?1387104284"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"It's great improved, I just can't wait PHP support unicode. \n\n\nBy the way,Nikic, array confuse me when I come to PHP from Python, I don't think that PHP mean as array is \"array in traditional sense\", and after spending more time write PHP code i know they are an ordered hash tables. I don't think an ordered hash tables is always i need. May be PHP need some other type collections.","createdAt":"2015-02-03T14:12:52","id":"1832416852","thread":"3350770009","depth":0,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":true,"message":"\u003cp>It's great improved, I just can't wait PHP support unicode.\u003c/p>\u003cp>By the way,Nikic, array confuse me when I come to PHP from Python, I don't think that PHP mean as array is \"array in traditional sense\", and after spending more time write PHP code i know they are an ordered hash tables. I don't think an ordered hash tables is always i need. May be PHP need some other type collections.\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":null,"isApproved":true,"author":{"username":"alehveraskouski","about":"","name":"Aleh Veraskouski","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.2324929999999998,"profileUrl":"https://disqus.com/by/alehveraskouski/","url":"","reputation":1.2324929999999998,"location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"joinedAt":"2014-05-20T15:34:30","id":"107679511","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/alehveraskouski.jpg","cache":"//a.disquscdn.com/1446615304/images/noavatar32.png"},"isCustom":false,"permalink":"https://disqus.com/api/users/avatars/alehveraskouski.jpg","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png","large":{"permalink":"https://disqus.com/api/users/avatars/alehveraskouski.jpg","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"I wish there was more emphasis on performance testing in REAL settings. Performance-related conclusions are based on some assumptions that are although strong might not hold everywhere.","createdAt":"2015-01-06T14:01:22","id":"1774567452","thread":"3350770009","depth":0,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>I wish there was more emphasis on performance testing in REAL settings. Performance-related conclusions are based on some assumptions that are although strong might not hold everywhere.\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":null,"isApproved":true,"author":{"name":"v","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar32.png","cache":"//a.disquscdn.com/1446615304/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"The mentioned refcount change of zvals seems like quite a bigger deal here.\nI'm not sure how it can be moved to the whole array... can't we still have references to individual array elements, etc?\nI guess I'm missing something...","createdAt":"2015-01-05T09:16:53","id":"1772337623","thread":"3350770009","depth":0,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>The mentioned refcount change of zvals seems like quite a bigger deal here.\u003cbr>I'm not sure how it can be moved to the whole array... can't we still have references to individual array elements, etc?\u003cbr>I guess I'm missing something...\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":null,"isApproved":true,"author":{"name":"v","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar32.png","cache":"//a.disquscdn.com/1446615304/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"Well, using indexes instead of pointers is a no-brainer for benefits when copying the whole structure, I'm quite surprised it was not used earlier, given PHP heavily uses array copying when passing arrays around (granted, with copy-on-write).\n\nI wonder how expensive the recalculation of arHash is upon reallocation to double size - full traversal and rehashing seems unavoidable.\n\n\nHonestly I'm a bit disappointed, when I saw the title I expected it would be about some actually cool new approach, like using a RB tree or something...","createdAt":"2015-01-05T09:07:40","id":"1772332414","thread":"3350770009","depth":0,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>Well, using indexes instead of pointers is a no-brainer for benefits when copying the whole structure, I'm quite surprised it was not used earlier, given PHP heavily uses array copying when passing arrays around (granted, with copy-on-write).\u003c/p>\u003cp>I wonder how expensive the recalculation of arHash is upon reallocation to double size - full traversal and rehashing seems unavoidable.\u003c/p>\u003cp>Honestly I'm a bit disappointed, when I saw the title I expected it would be about some actually cool new approach, like using a RB tree or something...\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":null,"isApproved":true,"author":{"username":"nmabhinandan","about":"I'm 21, a freethinker, futurist and whatnot. I write code for living and to tinker some of my ideas.","name":"Abhinandan","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.2298069999999999,"profileUrl":"https://disqus.com/by/nmabhinandan/","url":"http://nmabhinandan.me/","reputation":1.2298069999999999,"location":"India","isPrivate":false,"signedUrl":"http://disq.us/?url=http%3A%2F%2Fnmabhinandan.me%2F&key=YXnXEYgheZ9fqEJxEBRSbw","isPrimary":true,"joinedAt":"2013-07-15T13:13:01","id":"62447410","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/nmabhinandan.jpg","cache":"//a.disquscdn.com/uploads/users/6244/7410/avatar32.jpg?1446221116"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/nmabhinandan.jpg","cache":"//a.disquscdn.com/uploads/users/6244/7410/avatar92.jpg?1446221116","large":{"permalink":"https://disqus.com/api/users/avatars/nmabhinandan.jpg","cache":"//a.disquscdn.com/uploads/users/6244/7410/avatar92.jpg?1446221116"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"dafuq did i just read!!","createdAt":"2015-01-02T03:51:30","id":"1768013235","thread":"3350770009","depth":0,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>dafuq did i just read!!\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":null,"isApproved":true,"author":{"username":"xandiostermeyr","about":"","name":"Xandi Ostermeyr","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.233796,"profileUrl":"https://disqus.com/by/xandiostermeyr/","url":"","reputation":1.233796,"location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"joinedAt":"2014-01-13T13:53:55","id":"90431364","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/xandiostermeyr.jpg","cache":"//a.disquscdn.com/uploads/users/9043/1364/avatar32.jpg?1389621236"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/xandiostermeyr.jpg","cache":"//a.disquscdn.com/uploads/users/9043/1364/avatar92.jpg?1389621236","large":{"permalink":"https://disqus.com/api/users/avatars/xandiostermeyr.jpg","cache":"//a.disquscdn.com/uploads/users/9043/1364/avatar92.jpg?1389621236"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"Thanks for sharing your thoughts and insights about php7 - i'm really looking forward!","createdAt":"2014-12-29T14:33:56","id":"1763048509","thread":"3350770009","depth":0,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>Thanks for sharing your thoughts and insights about php7 - i'm really looking forward!\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":null,"isApproved":true,"author":{"name":"Samy Ramesh, Chennai.","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar32.png","cache":"//a.disquscdn.com/1446615304/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"Awesome article on PHP array and new implementation in version 7. Thanks a lot for sharing, Nikic.","createdAt":"2014-12-23T17:05:02","id":"1756325870","thread":"3350770009","depth":0,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>Awesome article on PHP array and new implementation in version 7. Thanks a lot for sharing, Nikic.\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":null,"isApproved":true,"author":{"username":"disqus_h2r4b0KtK9","about":"","name":"Michael Lawson","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.618086,"profileUrl":"https://disqus.com/by/disqus_h2r4b0KtK9/","url":"","reputation":1.618086,"location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"joinedAt":"2013-11-22T19:02:53","id":"82981888","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/disqus_h2r4b0KtK9.jpg","cache":"//a.disquscdn.com/uploads/users/8298/1888/avatar32.jpg?1445605696"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/disqus_h2r4b0KtK9.jpg","cache":"//a.disquscdn.com/uploads/users/8298/1888/avatar92.jpg?1445605696","large":{"permalink":"https://disqus.com/api/users/avatars/disqus_h2r4b0KtK9.jpg","cache":"//a.disquscdn.com/uploads/users/8298/1888/avatar92.jpg?1445605696"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"Time to really brush up on my C","createdAt":"2014-12-23T14:23:53","id":"1756091509","thread":"3350770009","depth":0,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>Time to really brush up on my C\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":null,"isApproved":true,"author":{"name":"morgenkaffee","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar32.png","cache":"//a.disquscdn.com/1446615304/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"Does this new hashtable implementation solve the problem of complexity attack by using hash collisions?\nlukasmartinelli.ch/web/2014/11/17/php-dos-attack-revisited.html","createdAt":"2014-12-23T07:33:17","id":"1755778252","thread":"3350770009","depth":0,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>Does this new hashtable implementation solve the problem of complexity attack by using hash collisions?\u003cbr>\u003ca href=\"http://lukasmartinelli.ch/web/2014/11/17/php-dos-attack-revisited.html\" rel=\"nofollow\">lukasmartinelli.ch/web/2014/11...\u003c/a>\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":1755778252,"isApproved":true,"author":{"username":"sergidepablos","about":"","name":"Sergi de Pablos","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.235145,"profileUrl":"https://disqus.com/by/sergidepablos/","url":"","reputation":1.235145,"location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"joinedAt":"2014-12-10T12:49:58","id":"135151226","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/sergidepablos.jpg","cache":"//a.disquscdn.com/uploads/users/13515/1226/avatar32.jpg?1430378996"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/sergidepablos.jpg","cache":"//a.disquscdn.com/uploads/users/13515/1226/avatar92.jpg?1430378996","large":{"permalink":"https://disqus.com/api/users/avatars/sergidepablos.jpg","cache":"//a.disquscdn.com/uploads/users/13515/1226/avatar92.jpg?1430378996"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":1,"raw_message":"I've just compiled PHP 7 and made a small test https://gist.github.com/sdepablos/f2704672eb8feef7f339 and the performance gains are notable (in both cases, CPU at 100%):\n\nPHP 5.5.12: 1m 11s\nPHP 7.0.0-dev: 0m 10s","createdAt":"2014-12-23T09:50:45","id":"1755866772","thread":"3350770009","depth":1,"numReports":0,"isDeletedByAuthor":false,"likes":7,"isEdited":true,"message":"\u003cp>I've just compiled PHP 7 and made a small test \u003ca href=\"https://gist.github.com/sdepablos/f2704672eb8feef7f339\" rel=\"nofollow\">https://gist.github.com/sdepab...\u003c/a> and the performance gains are notable (in both cases, CPU at 100%):\u003c/p>\u003cp>PHP 5.5.12: 1m 11s\u003cbr>PHP 7.0.0-dev: 0m 10s\u003c/p>","isSpam":false,"isHighlighted":false,"points":6},{"forum":"nikic","parent":1755778252,"isApproved":true,"author":{"name":"Reini Urban","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar32.png","cache":"//a.disquscdn.com/1446615304/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1446615304/images/noavatar92.png","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"No, does not look like so. They really should use either universal hashing, a random seed as in perl or open addressing, which would be much faster btw.","createdAt":"2014-12-23T16:46:37","id":"1756290909","thread":"3350770009","depth":1,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>No, does not look like so. They really should use either universal hashing, a random seed as in perl or open addressing, which would be much faster btw.\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":1755778252,"isApproved":true,"author":{"username":"disqus_jPeTYUuVub","about":"","name":"Nikita","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.234724,"profileUrl":"https://disqus.com/by/disqus_jPeTYUuVub/","url":"","reputation":1.234724,"location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"joinedAt":"2014-06-21T10:35:02","id":"111509876","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/disqus_jPeTYUuVub.jpg","cache":"//a.disquscdn.com/uploads/users/11150/9876/avatar32.jpg?1405752621"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/disqus_jPeTYUuVub.jpg","cache":"//a.disquscdn.com/uploads/users/11150/9876/avatar92.jpg?1405752621","large":{"permalink":"https://disqus.com/api/users/avatars/disqus_jPeTYUuVub.jpg","cache":"//a.disquscdn.com/uploads/users/11150/9876/avatar92.jpg?1405752621"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"Not intentionally, only by improving performance overall.","createdAt":"2014-12-23T10:13:45","id":"1755881021","thread":"3350770009","depth":1,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>Not intentionally, only by improving performance overall.\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":1755881021,"isApproved":true,"author":{"username":"lukasmartinelli","about":"Web Fanatic. Linux. Python.","name":"Lukas Martinelli","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.2416429999999998,"profileUrl":"https://disqus.com/by/lukasmartinelli/","url":"http://lukasmartinelli.ch/","reputation":1.2416429999999998,"location":"Switzerland","isPrivate":false,"signedUrl":"http://disq.us/?url=http%3A%2F%2Flukasmartinelli.ch%2F&key=CLTY3dm9UF1ZEA19x2CsTw","isPrimary":true,"joinedAt":"2013-09-04T20:40:16","id":"71484655","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/lukasmartinelli.jpg","cache":"//a.disquscdn.com/uploads/users/7148/4655/avatar32.jpg?1438938072"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/lukasmartinelli.jpg","cache":"//a.disquscdn.com/uploads/users/7148/4655/avatar92.jpg?1438938072","large":{"permalink":"https://disqus.com/api/users/avatars/lukasmartinelli.jpg","cache":"//a.disquscdn.com/uploads/users/7148/4655/avatar92.jpg?1438938072"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"Can't we use something other than DJBX33A for hashing string keys like other languages do?","createdAt":"2014-12-23T10:27:30","id":"1755889450","thread":"3350770009","depth":2,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>Can't we use something other than DJBX33A for hashing string keys like other languages do?\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":1755889450,"isApproved":true,"author":{"username":"disqus_jPeTYUuVub","about":"","name":"Nikita","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.234724,"profileUrl":"https://disqus.com/by/disqus_jPeTYUuVub/","url":"","reputation":1.234724,"location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"joinedAt":"2014-06-21T10:35:02","id":"111509876","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/disqus_jPeTYUuVub.jpg","cache":"//a.disquscdn.com/uploads/users/11150/9876/avatar32.jpg?1405752621"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/disqus_jPeTYUuVub.jpg","cache":"//a.disquscdn.com/uploads/users/11150/9876/avatar92.jpg?1405752621","large":{"permalink":"https://disqus.com/api/users/avatars/disqus_jPeTYUuVub.jpg","cache":"//a.disquscdn.com/uploads/users/11150/9876/avatar92.jpg?1405752621"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"It doesn't really matter, any hashing function loses information and hence is prone to collisions I think.","createdAt":"2014-12-23T11:09:25","id":"1755916088","thread":"3350770009","depth":3,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":true,"message":"\u003cp>It doesn't really matter, any hashing function loses information and hence is prone to collisions I think.\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":1755916088,"isApproved":true,"author":{"username":"advance512","about":"","name":"advance512","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.243743,"profileUrl":"https://disqus.com/by/advance512/","url":"","reputation":1.243743,"location":"","isPrivate":true,"signedUrl":"","isPrimary":true,"joinedAt":"2013-05-30T22:08:38","id":"53573335","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/advance512.jpg","cache":"//a.disquscdn.com/uploads/users/5357/3335/avatar32.jpg?1374052385"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/advance512.jpg","cache":"//a.disquscdn.com/uploads/users/5357/3335/avatar92.jpg?1374052385","large":{"permalink":"https://disqus.com/api/users/avatars/advance512.jpg","cache":"//a.disquscdn.com/uploads/users/5357/3335/avatar92.jpg?1374052385"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"True, all hashing functions are prone to collisions. However, not all hashing functions are created equal.\n\nThis is a fun read:\nhttp://programmers.stackexchange.com/questions/49550/which-hashing-algorithm-is-best-for-uniqueness-and-speed\n\nEvery lookup hash function tries to minimize collisions. This typically means reaching a uniform distribution of the hash value. The hash function designer attempts to \"achieve avalanche\", that is - reach the state where even a single bit of different in the key results in a wildly different hash value.\nhttp://en.wikipedia.org/wiki/Avalanche_effect\n\nThat being said, if a hash function has, let's say, 10-15% fewer collisions but takes twice as long to execute, then generally it isn't a price you'd want to pay in most typical Dictionary use cases. Handling collisions isn't *usually* very expensive. Of course, it depends on how \"full\" a hashtable really is, compared to its table size.\n\nI'd say PHP hashtables are usually small and with a very small chance of collision, so hashtable speed is more important.\n\nTo mitigate the PHP DoS attack, I'd say other methods of protection should be put up that don't affect the 99% of PHP users that aren't faced with it and shouldn't suffer a performance penalty because of it.","createdAt":"2014-12-23T12:11:30","id":"1755959825","thread":"3350770009","depth":4,"numReports":0,"isDeletedByAuthor":false,"likes":1,"isEdited":true,"message":"\u003cp>True, all hashing functions are prone to collisions. However, not all hashing functions are created equal.\u003c/p>\u003cp>This is a fun read:\u003cbr>\u003ca href=\"http://programmers.stackexchange.com/questions/49550/which-hashing-algorithm-is-best-for-uniqueness-and-speed\" rel=\"nofollow\">http://programmers.stackexchan...\u003c/a>\u003c/p>\u003cp>Every lookup hash function tries to minimize collisions. This typically means reaching a uniform distribution of the hash value. The hash function designer attempts to \"achieve avalanche\", that is - reach the state where even a single bit of different in the key results in a wildly different hash value.\u003cbr>\u003ca href=\"http://en.wikipedia.org/wiki/Avalanche_effect\" rel=\"nofollow\">http://en.wikipedia.org/wiki/A...\u003c/a>\u003c/p>\u003cp>That being said, if a hash function has, let's say, 10-15% fewer collisions but takes twice as long to execute, then generally it isn't a price you'd want to pay in most typical Dictionary use cases. Handling collisions isn't *usually* very expensive. Of course, it depends on how \"full\" a hashtable really is, compared to its table size.\u003c/p>\u003cp>I'd say PHP hashtables are usually small and with a very small chance of collision, so hashtable speed is more important.\u003c/p>\u003cp>To mitigate the PHP DoS attack, I'd say other methods of protection should be put up that don't affect the 99% of PHP users that aren't faced with it and shouldn't suffer a performance penalty because of it.\u003c/p>","isSpam":false,"isHighlighted":false,"points":1},{"forum":"nikic","parent":1755916088,"isApproved":true,"author":{"username":"nikic","about":"","name":"nikic","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.282646,"profileUrl":"https://disqus.com/by/nikic/","url":"","reputation":1.282646,"location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"joinedAt":"2011-10-21T21:41:03","id":"18209436","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/nikic.jpg","cache":"//a.disquscdn.com/1446615304/images/noavatar32.png"},"isCustom":false,"permalink":"https://disqus.com/api/users/avatars/nikic.jpg","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png","large":{"permalink":"https://disqus.com/api/users/avatars/nikic.jpg","cache":"//a.disquscdn.com/1446615304/images/noavatar92.png"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"It's possible to use a keyed cryptographic hash (essentially a PRF) to make these collisions non-exploitable (as the attacker would have to know the generated key to efficiently generate collisions). A popular PRF with performance characteristics that are good enough for hashtables is SipHash, which is used by Python and a number of other languages.\n\n\nThe primary problem for PHP would be dealing with integer keys - they can cause collisions just as easily (even easier ^^), but running those through a cryptographic hash sounds like it could have serious performance impact. The packed hashtables could help with that (as one common case doesn't need hashing at all). So this probably bears investigating.","createdAt":"2014-12-23T11:56:19","id":"1755948812","thread":"3350770009","depth":4,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":true,"message":"\u003cp>It's possible to use a keyed cryptographic hash (essentially a PRF) to make these collisions non-exploitable (as the attacker would have to know the generated key to efficiently generate collisions). A popular PRF with performance characteristics that are good enough for hashtables is SipHash, which is used by Python and a number of other languages.\u003c/p>\u003cp>The primary problem for PHP would be dealing with integer keys - they can cause collisions just as easily (even easier ^^), but running those through a cryptographic hash sounds like it could have serious performance impact. The packed hashtables could help with that (as one common case doesn't need hashing at all). So this probably bears investigating.\u003c/p>","isSpam":false,"isHighlighted":false,"points":0},{"forum":"nikic","parent":1755948812,"isApproved":true,"author":{"username":"lukasmartinelli","about":"Web Fanatic. Linux. Python.","name":"Lukas Martinelli","disable3rdPartyTrackers":false,"isPowerContributor":false,"isAnonymous":false,"rep":1.2416429999999998,"profileUrl":"https://disqus.com/by/lukasmartinelli/","url":"http://lukasmartinelli.ch/","reputation":1.2416429999999998,"location":"Switzerland","isPrivate":false,"signedUrl":"http://disq.us/?url=http%3A%2F%2Flukasmartinelli.ch%2F&key=CLTY3dm9UF1ZEA19x2CsTw","isPrimary":true,"joinedAt":"2013-09-04T20:40:16","id":"71484655","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/lukasmartinelli.jpg","cache":"//a.disquscdn.com/uploads/users/7148/4655/avatar32.jpg?1438938072"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/lukasmartinelli.jpg","cache":"//a.disquscdn.com/uploads/users/7148/4655/avatar92.jpg?1438938072","large":{"permalink":"https://disqus.com/api/users/avatars/lukasmartinelli.jpg","cache":"//a.disquscdn.com/uploads/users/7148/4655/avatar92.jpg?1438938072"}}},"media":[],"isDeleted":false,"isFlagged":false,"dislikes":0,"raw_message":"Very nice sum up.\n From what I know JSON cannot contain integer keys.\nPerhaps it is ok to make library makers and sysadmins responsible for dealing with it.\n\n\n\nQuick tricks:\n- Limit CPU time (30s as default is insane)\n- Limit Payload size (65k keys for 10seconds in PHP 7 are quite a payload)\n\nOr the json_decode method could perhaps use an alternative safe implementation of a hash table and then copy it over to a normal hash table or abstract the fact that it is a special hash table.","createdAt":"2014-12-23T15:30:42","id":"1756176822","thread":"3350770009","depth":5,"numReports":0,"isDeletedByAuthor":false,"likes":0,"isEdited":false,"message":"\u003cp>Very nice sum up.\u003cbr> From what I know JSON cannot contain integer keys.\u003cbr>Perhaps it is ok to make library makers and sysadmins responsible for dealing with it.\u003c/p>\u003cp>Quick tricks:\u003cbr>- Limit CPU time (30s as default is insane)\u003cbr>- Limit Payload size (65k keys for 10seconds in PHP 7 are quite a payload)\u003c/p>\u003cp>Or the json_decode method could perhaps use an alternative safe implementation of a hash table and then copy it over to a normal hash table or abstract the fact that it is a special hash table.\u003c/p>","isSpam":false,"isHighlighted":false,"points":0}],"thread":{"feed":"https://nikic.disqus.com/phps_new_hashtable_implementation_20/latest.rss","uploadAdd":"//nikic.disqus.com/thread/phps_new_hashtable_implementation_20/async_media_upload/","identifiers":["/2014/12/22/PHPs-new-hashtable-implementation.html"],"dislikes":0,"likes":3,"message":"","isSpam":false,"isDeleted":false,"category":"1111912","clean_title":"PHP's new hashtable implementation","userScore":0,"userSubscription":false,"id":"3350770009","signedLink":"https://disq.us/?url=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&key=xSmNMQWB_b-z9BEzBGCfzg","createdAt":"2014-12-23T00:09:09","hasStreaming":false,"uploadRemove":"//nikic.disqus.com/thread/phps_new_hashtable_implementation_20/async_media_remove/","raw_message":"","isClosed":false,"link":"https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html","slug":"phps_new_hashtable_implementation_20","forum":"nikic","author":"18209436","posts":29,"moderators":[18209436],"title":"PHP's new hashtable implementation","highlightedPost":null}},"order":"popular"}</script>

    

    <div id="fixed-content"></div>


    
        
        <!--[if lte IE 8]>
<script src="//a.disquscdn.com/1446615304/build/vendor/ie8.js"></script>
<![endif]-->
<!--[if IE 9]>
<script src="//a.disquscdn.com/1446615304/build/vendor/ie9.js"></script>
<![endif]-->

        
<script type="text/json" id="disqus-urls">{
    "root":"//disqus.com",
    "next":"//a.disquscdn.com/next/current/embed"
}</script>

        <script src="lounge.load.ffd6cd969affb99107e3b3349c181735.js" id="bootstrap-script" data-app="lounge" async=""></script>
    


<div id="layout" data-tracking-area="layout">

<div id="placement-top" data-tracking-area="discovery-north"><div class="post-list" style="height: 0px; visibility: hidden;"></div></div>

<div id="onboard" data-tracking-area="onboard"></div>

<div id="highlighted-post" data-tracking-area="highlighted" class="highlighted-post" style="display: none;"></div>

<div id="global-alert"></div>

<header id="main-nav" data-tracking-area="main-nav">
<nav class="nav nav-primary">
<ul>
<li class="tab-conversation active" data-role="post-count"><a class="publisher-nav-color">
<span class="comment-count">
29 comments
</span>

<span class="comment-count-placeholder">
Comments
</span>
</a>
</li>
<li class="tab-community">
<a href="https://disqus.com/home/forums/nikic/" class="publisher-nav-color" data-action="community-sidebar" data-forum="nikic" id="community-tab">
<span class="community-name">
<strong>nikic's Blog</strong>

</span>

<strong class="community-name-placeholder">Community</strong>
</a>
</li>
<li class="dropdown user-menu" data-role="logout"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="dropdown-toggle" data-toggle="dropdown">
<span class="dropdown-toggle-wrapper">

<span>
Login
</span>

</span> <span class="caret"></span>
</a>
<ul class="dropdown-menu">


<li>
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="auth:disqus">Disqus</a>
</li>
<li>
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="auth:facebook">Facebook</a>
</li>
<li>
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="auth:twitter">Twitter</a>
</li>
<li>
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="auth:google">Google</a>
</li>



</ul>
</li>
<li class="notification-menu unread" data-role="notification-menu"><a href="https://disqus.com/home/inbox/" class="notification-container" data-action="home" data-home-path="home/inbox/">
<span class="notification-icon icon-comment" aria-hidden=""></span>
<span class="notification-count" data-role="notification-count">1</span>
</a>
</li>
</ul>
</nav>
</header>

<section id="conversation" data-role="main" data-tracking-area="main">
<div class="nav nav-secondary" data-tracking-area="secondary-nav">
<ul>
<li id="recommend-button" class="recommend dropdown">
<div class="thread-likes"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="recommend" title="Recommend this discussion" class="dropdown-toggle ">
<span class="icon-heart"></span>
<span class="label label-default">Recommend</span>
<span class="label label-recommended">Recommended</span>
<span class="label label-count">3</span>
</a>
<ul class="dropdown-menu coachmark">
<li>
<h2>Discussion Recommended!</h2>
<p>Recommending means this is a discussion worth sharing. It gets shared to your followers' Disqus feeds, and gives the creator kudos!</p>
<a href="https://disqus.com/home/?utm_source=disqus_embed&utm_content=recommend_btn" class="btn btn-primary" target="_blank">
 Find More Discussions 
</a>
</li>
</ul>
</div></li>
<li id="thread-share-menu" class="dropdown share-menu hidden-sm"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="dropdown-toggle" data-toggle="dropdown" title="Share">
<span class="icon-export"></span>
<span class="label">Share</span>
</a>
<ul class="share-menu dropdown-menu">
<li class="share">Share this discussion on
<ul>
<li class="twitter">
<a data-action="share:twitter" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#">Twitter</a>
</li>
<li class="facebook">
<a data-action="share:facebook" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#">Facebook</a>
</li>
</ul>
</li>
</ul>
</li>
<li data-role="post-sort" class="dropdown sorting pull-right">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="dropdown-toggle" data-toggle="dropdown">
Sort by Best


<span class="caret"></span>
</a>
<ul class="dropdown-menu pull-right">
<li class="selected">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="sort" data-sort="popular">Best<i aria-hidden="true" class="icon-checkmark"></i></a>
</li>

<li>
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="sort" data-sort="desc">Newest<i aria-hidden="true" class="icon-checkmark"></i></a>
</li>

<li>
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="sort" data-sort="asc">Oldest<i aria-hidden="true" class="icon-checkmark"></i></a>
</li>
</ul>
</li>
</ul>
</div>

<div id="posts">
<div id="form"><form class="reply">
<div class="postbox">
<div role="alert"></div>
<div class="avatar">
<span class="user">
<img data-role="user-avatar" src="noavatar92.4549c5353ccf103d32a8b81a856576ed.png" alt="Avatar">
</span>
</div>

<div class="textarea-wrapper" data-role="textarea" dir="auto"><div><span class="placeholder">Join the discussion…</span><div class="textarea" tabindex="0" role="textbox" aria-multiline="true" contenteditable="true" data-role="editable" aria-label="Join the discussion…" style="overflow: auto; max-height: 350px;"><p><br></p></div><div style="display: none;"><ul class="suggestions">
<li class="header">
<h5>in this conversation</h5>
</li>
</ul>
</div></div>
<div data-role="drag-drop-placeholder" class="media-drag-hover" style="display: none">
<div class="drag-text">
⬇ Drag and drop your images here to upload them.
</div>
</div>
<div class="edit-alert" role="postbox-alert"></div>
<div class="post-actions">
<ul class="wysiwyg">
</ul>
</div>
</div>

<div data-role="login-form"><div><section class="auth-section logged-out">
<div class="connect">
<h6>Log in with</h6>
<ul data-role="login-menu" class="services login-buttons">


<li class="auth-disqus">
<button type="button" data-action="auth:disqus" title="Disqus"><i class="icon-disqus"></i></button>
</li>
<li class="auth-facebook">
<button type="button" data-action="auth:facebook" title="Facebook"><i class="icon-facebook-circle"></i></button>
</li>
<li class="auth-twitter">
<button type="button" data-action="auth:twitter" title="Twitter"><i class="icon-twitter-circle"></i></button>
</li>
<li class="auth-google">
<button type="button" data-action="auth:google" title="Google"><i class="icon-google-plus-circle"></i></button>
</li>
</ul>
</div>
<div class="guest">
<h6 class="guest-form-title">
<span class="register-text"> or sign up with Disqus </span>
<span class="guest-text"> or pick a name </span>
</h6>

<div class="what-is-disqus help-icon">
<div id="rules" class="tooltip show">
<h3>Disqus is a discussion network</h3>
<ul>
<li><span>Disqus never moderates or censors. The rules on this community are its own.</span></li>
<li><span>Your email is safe with us. It's only used for moderation and optional notifications.</span></li>
<li><span>Don't be a jerk or do anything illegal. Everything is easier that way.</span></li>
</ul>
<p class="clearfix"><a href="https://docs.disqus.com/kb/terms-and-policies/" class="btn btn-small" target="_blank">Read full terms and conditions</a></p>
</div>
</div>

<p class="input-wrapper">
<input dir="auto" type="text" placeholder="Name" name="display_name" id="view88_display_name" maxlength="30">
</p>

<div class="guest-details " data-role="guest-details">
<p class="input-wrapper">
<input dir="auto" type="email" placeholder="Email" name="email" id="view88_email">
</p>

<p class="input-wrapper">
<input dir="auto" type="password" class="register-text" placeholder="Password" name="password" id="view88_password">
</p>

<div class="acceptance-wrapper register-text">
By signing up, you agree to the Disqus <a target="_blank" href="https://help.disqus.com/customer/portal/articles/1753105-basic-rules-for-disqus-powered-profiles-and-discussions">Basic Rules</a>, <a target="_blank" href="https://help.disqus.com/customer/portal/articles/466260-terms-of-service">Terms of Service</a>, and <a target="_blank" href="https://help.disqus.com/customer/portal/articles/466259-privacy-policy">Privacy Policy</a>.
</div>
<div class="acceptance-wrapper guest-text">
By posting, you agree to the Disqus <a target="_blank" href="https://help.disqus.com/customer/portal/articles/1753105-basic-rules-for-disqus-powered-profiles-and-discussions">Basic Rules</a>, <a target="_blank" href="https://help.disqus.com/customer/portal/articles/466260-terms-of-service">Terms of Service</a>, and <a target="_blank" href="https://help.disqus.com/customer/portal/articles/466259-privacy-policy">Privacy Policy</a>.
</div>

<div class="guest-checkbox">
<label>
<input type="checkbox" name="author-guest">
I'd rather post as a guest
</label>
</div>

<div class="proceed" data-role="submit-btn-container">
<button type="submit" class="btn submit" aria-label="Post"><span class="icon-proceed"></span><div class="spinner"></div></button>
<button type="submit" class="btn next" aria-label="Next"><span class="icon-proceed"></span><div class="spinner"></div></button>
</div>
</div>
</div>
</section>

</div></div>
</div>
</form></div>

<button class="alert realtime" style="display: none" data-role="realtime-notification">
</button>

<div id="no-posts" style="display:none"></div>

<ul id="post-list" class="post-list"><li class="post" id="post-1755678108"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/whycantibeanon/" class="user" data-action="profile" data-username="whycantibeanon">
<img data-role="user-avatar" data-user="45516665" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/whycantibeanon/" data-action="profile" data-username="whycantibeanon" data-role="username">whycantibeanon</a></span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755678108" data-role="relative-time" class="time-ago" title="Tuesday, December 23, 2014 1:08 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Any estimate on the release of PHP 7?</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-4" data-action="upvote" title="">

<span class="updatable count" data-role="likes">4</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-1" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755678108">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1755678108">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-1756054480"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/disqus_tnH0MCRMRS/" class="user" data-action="profile" data-username="disqus_tnH0MCRMRS">
<img data-role="user-avatar" data-user="91034584" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_tnH0MCRMRS/" data-action="profile" data-username="disqus_tnH0MCRMRS" data-role="username">Steve Marshall</a></span>

<span><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755678108" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> whycantibeanon</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756054480" data-role="relative-time" class="time-ago" title="Tuesday, December 23, 2014 9:52 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>They shouldn't have given it a number. Now  people are going to start writing PHP 7 books and then PHP 7 will never come out. it's going to be PHP 6 all over again.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-16" data-action="upvote" title="">

<span class="updatable count" data-role="likes">16</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-1" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756054480">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1756054480">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li><li class="post" id="post-1755685767"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/edwinlunando/" class="user" data-action="profile" data-username="edwinlunando">
<img data-role="user-avatar" data-user="27827826" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/edwinlunando/" data-action="profile" data-username="edwinlunando" data-role="username">Edwin Lunando</a></span>

<span><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755678108" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> whycantibeanon</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755685767" data-role="relative-time" class="time-ago" title="Tuesday, December 23, 2014 1:19 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Around November 2015. <a href="https://wiki.php.net/rfc/php7timeline" rel="nofollow">https://wiki.php.net/rfc/php7t...</a></p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-1" data-action="upvote" title="">

<span class="updatable count" data-role="likes">1</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755685767">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1755685767">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li></ul>

</li><li class="post" id="post-1756050007"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header>
<span class="post-byline">
<span class="author">mogui</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756050007" data-role="relative-time" class="time-ago" title="Tuesday, December 23, 2014 9:48 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>It's me that get it wrong or this line:</p><p>uint32_t idx = ht-&gt;arData[h &amp; ht-&gt;nTableMask]; should be:</p><p>uint32_t idx = ht-&gt;arHash[h &amp; ht-&gt;nTableMask];</p><p>Great article!</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-1" data-action="upvote" title="">

<span class="updatable count" data-role="likes">1</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756050007">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1756050007">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-1756056219"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/nikic/" class="user" data-action="profile" data-username="nikic">
<img data-role="user-avatar" data-user="18209436" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/nikic/" data-action="profile" data-username="nikic" data-role="username">nikic</a></span>
<span class="badge moderator">Mod</span>

<span><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756050007" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> mogui</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756056219" data-role="relative-time" class="time-ago" title="Tuesday, December 23, 2014 9:53 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>You're right, it's fixed now :)</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756056219">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1756056219">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-1756237694"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header>
<span class="post-byline">
<span class="author">mogui</span>

<span><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756056219" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> nikic</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756237694" data-role="relative-time" class="time-ago" title="Wednesday, December 24, 2014 12:14 AM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Again my compliments for the article, really awesome reading!</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-1" data-action="upvote" title="">

<span class="updatable count" data-role="likes">1</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756237694">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1756237694">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li></ul>

</li></ul>

</li><li class="post" id="post-2181076719"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header>
<span class="post-byline">
<span class="author">Tomasz</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-2181076719" data-role="relative-time" class="time-ago" title="Saturday, August 8, 2015 6:37 PM">
3 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Thank you for such an comprehensive explanation of this subject :)</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-2181076719">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2181076719">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li><li class="post" id="post-2129027693"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/vrana/" class="user" data-action="profile" data-username="vrana">
<img data-role="user-avatar" data-user="5364400" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/vrana/" data-action="profile" data-username="vrana" data-role="username">Jakub Vrána</a></span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-2129027693" data-role="relative-time" class="time-ago" title="Saturday, July 11, 2015 2:35 AM">
4 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Great article, thanks for sharing. It might be worth mentioning that another rule for using packed hashtables is that they must have at least 50% fullness (<a href="http://lxr.php.net/xref/phpng/Zend/zend_hash.c#442)" rel="nofollow">http://lxr.php.net/xref/phpng/...</a>. Not having this rule would occupy lots of memory for sparse array (but with increasing numerical indexes).</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-2129027693">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2129027693">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li><li class="post" id="post-1881332686"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header>
<span class="post-byline">
<span class="author">xyz9012345</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1881332686" data-role="relative-time" class="time-ago" title="Sunday, March 1, 2015 12:10 PM">
8 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>How can ht-&gt;arHash[h &amp; ht-&gt;nTableMask] can find the idx in ht-&gt;arData for a particular key during hash table lookup when the key is not used during populating the array? Am I missing something here?</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1881332686">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1881332686">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li><li class="post" id="post-1843096244"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header>
<span class="post-byline">
<span class="author">Guest</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1843096244" data-role="relative-time" class="time-ago" title="Monday, February 9, 2015 1:25 PM">
9 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>why php team is not swapping zend engine with hhvm, when they are saying "JIT compiler to native code would be a huge step forward for the zend engine. But it won't bring it to the performance level of HHVM". than why not work on other possible things to grow php? ego or something else? #justcurious</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1843096244">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1843096244">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li><li class="post" id="post-1841982254"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/mainalikishan/" class="user" data-action="profile" data-username="mainalikishan">
<img data-role="user-avatar" data-user="15742795" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/mainalikishan/" data-action="profile" data-username="mainalikishan" data-role="username">mainalikishan</a></span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1841982254" data-role="relative-time" class="time-ago" title="Sunday, February 8, 2015 10:49 PM">
9 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>For the same code above, using php 5.6 on HHVM consumes only 2.00 MiB in 64 bit system...whereas php 7 consumes 4.00 MiB. Zend engine still looks far behind :(</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1841982254">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1841982254">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-1843197525"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/nikic/" class="user" data-action="profile" data-username="nikic">
<img data-role="user-avatar" data-user="18209436" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/nikic/" data-action="profile" data-username="nikic" data-role="username">nikic</a></span>
<span class="badge moderator">Mod</span>

<span><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1841982254" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> mainalikishan</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1843197525" data-role="relative-time" class="time-ago" title="Monday, February 9, 2015 3:48 PM">
9 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>The reason behind this difference is the "full packing" mentioned above where continuous integer-indexed arrays would be stored as simple zval arrays. HHVM implements this and ZE doesn't. For the record, we have implemented this as well (see <a href="https://github.com/nikic/php-src/tree/fullyPackedHash)" rel="nofollow">https://github.com/nikic/php-s...</a>, but found that while this improves performance in artificial scenarios, it may have negative impact on real code. We might still introduce it with a better implementation.</p><p>I am currently investigating switching to an open-addressing implementation, which would save 4-8 bytes per bucket in all cases (not just continuous integer-indexed). Not sure if something will come of it, it's quite likely that it may negatively affect performance as well.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1843197525">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1843197525">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li></ul>

</li><li class="post" id="post-1832416852"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/disqus_0p2wI0jyiX/" class="user" data-action="profile" data-username="disqus_0p2wI0jyiX">
<img data-role="user-avatar" data-user="86178424" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_0p2wI0jyiX/" data-action="profile" data-username="disqus_0p2wI0jyiX" data-role="username">Syaiful Bahri</a></span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1832416852" data-role="relative-time" class="time-ago" title="Tuesday, February 3, 2015 10:12 PM">
9 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>It's great improved, I just can't wait PHP support unicode.</p><p>By the way,Nikic, array confuse me when I come to PHP from Python, I don't think that PHP mean as array is "array in traditional sense", and after spending more time write PHP code i know they are an ordered hash tables. I don't think an ordered hash tables is always i need. May be PHP need some other type collections.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1832416852">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1832416852">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li><li class="post" id="post-1774567452"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/alehveraskouski/" class="user" data-action="profile" data-username="alehveraskouski">
<img data-role="user-avatar" data-user="107679511" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/alehveraskouski/" data-action="profile" data-username="alehveraskouski" data-role="username">Aleh Veraskouski</a></span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1774567452" data-role="relative-time" class="time-ago" title="Tuesday, January 6, 2015 10:01 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>I wish there was more emphasis on performance testing in REAL settings. Performance-related conclusions are based on some assumptions that are although strong might not hold everywhere.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1774567452">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1774567452">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li><li class="post" id="post-1772337623"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header>
<span class="post-byline">
<span class="author">v</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1772337623" data-role="relative-time" class="time-ago" title="Monday, January 5, 2015 5:16 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>The mentioned refcount change of zvals seems like quite a bigger deal here.<br>I'm not sure how it can be moved to the whole array... can't we still have references to individual array elements, etc?<br>I guess I'm missing something...</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1772337623">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1772337623">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li><li class="post" id="post-1772332414"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header>
<span class="post-byline">
<span class="author">v</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1772332414" data-role="relative-time" class="time-ago" title="Monday, January 5, 2015 5:07 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Well, using indexes instead of pointers is a no-brainer for benefits when copying the whole structure, I'm quite surprised it was not used earlier, given PHP heavily uses array copying when passing arrays around (granted, with copy-on-write).</p><p>I wonder how expensive the recalculation of arHash is upon reallocation to double size - full traversal and rehashing seems unavoidable.</p><p>Honestly I'm a bit disappointed, when I saw the title I expected it would be about some actually cool new approach, like using a RB tree or something...</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1772332414">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1772332414">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li><li class="post" id="post-1768013235"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/nmabhinandan/" class="user" data-action="profile" data-username="nmabhinandan">
<img data-role="user-avatar" data-user="62447410" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/nmabhinandan/" data-action="profile" data-username="nmabhinandan" data-role="username">Abhinandan</a></span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1768013235" data-role="relative-time" class="time-ago" title="Friday, January 2, 2015 11:51 AM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>dafuq did i just read!!</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1768013235">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1768013235">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li><li class="post" id="post-1763048509"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/xandiostermeyr/" class="user" data-action="profile" data-username="xandiostermeyr">
<img data-role="user-avatar" data-user="90431364" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/xandiostermeyr/" data-action="profile" data-username="xandiostermeyr" data-role="username">Xandi Ostermeyr</a></span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1763048509" data-role="relative-time" class="time-ago" title="Monday, December 29, 2014 10:33 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Thanks for sharing your thoughts and insights about php7 - i'm really looking forward!</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1763048509">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1763048509">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li><li class="post" id="post-1756325870"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header>
<span class="post-byline">
<span class="author">Samy Ramesh, Chennai.</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756325870" data-role="relative-time" class="time-ago" title="Wednesday, December 24, 2014 1:05 AM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Awesome article on PHP array and new implementation in version 7. Thanks a lot for sharing, Nikic.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756325870">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1756325870">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li><li class="post" id="post-1756091509"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/disqus_h2r4b0KtK9/" class="user" data-action="profile" data-username="disqus_h2r4b0KtK9">
<img data-role="user-avatar" data-user="82981888" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_h2r4b0KtK9/" data-action="profile" data-username="disqus_h2r4b0KtK9" data-role="username">Michael Lawson</a></span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756091509" data-role="relative-time" class="time-ago" title="Tuesday, December 23, 2014 10:23 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Time to really brush up on my C</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756091509">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1756091509">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li><li class="post" id="post-1755778252"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header>
<span class="post-byline">
<span class="author">morgenkaffee</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755778252" data-role="relative-time" class="time-ago" title="Tuesday, December 23, 2014 3:33 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Does this new hashtable implementation solve the problem of complexity attack by using hash collisions?<br><a href="http://lukasmartinelli.ch/web/2014/11/17/php-dos-attack-revisited.html" rel="nofollow">lukasmartinelli.ch/web/2014/11...</a></p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755778252">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1755778252">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-1755866772"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/sergidepablos/" class="user" data-action="profile" data-username="sergidepablos">
<img data-role="user-avatar" data-user="135151226" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/sergidepablos/" data-action="profile" data-username="sergidepablos" data-role="username">Sergi de Pablos</a></span>

<span><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755778252" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> morgenkaffee</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755866772" data-role="relative-time" class="time-ago" title="Tuesday, December 23, 2014 5:50 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>I've just compiled PHP 7 and made a small test <a href="https://gist.github.com/sdepablos/f2704672eb8feef7f339" rel="nofollow">https://gist.github.com/sdepab...</a> and the performance gains are notable (in both cases, CPU at 100%):</p><p>PHP 5.5.12: 1m 11s<br>PHP 7.0.0-dev: 0m 10s</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-7" data-action="upvote" title="">

<span class="updatable count" data-role="likes">7</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-1" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755866772">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1755866772">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li><li class="post" id="post-1756290909"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header>
<span class="post-byline">
<span class="author">Reini Urban</span>

<span><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755778252" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> morgenkaffee</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756290909" data-role="relative-time" class="time-ago" title="Wednesday, December 24, 2014 12:46 AM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>No, does not look like so. They really should use either universal hashing, a random seed as in perl or open addressing, which would be much faster btw.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756290909">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1756290909">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li><li class="post" id="post-1755881021"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/disqus_jPeTYUuVub/" class="user" data-action="profile" data-username="disqus_jPeTYUuVub">
<img data-role="user-avatar" data-user="111509876" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_jPeTYUuVub/" data-action="profile" data-username="disqus_jPeTYUuVub" data-role="username">Nikita</a></span>

<span><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755778252" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> morgenkaffee</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755881021" data-role="relative-time" class="time-ago" title="Tuesday, December 23, 2014 6:13 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Not intentionally, only by improving performance overall.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755881021">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1755881021">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-1755889450"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/lukasmartinelli/" class="user" data-action="profile" data-username="lukasmartinelli">
<img data-role="user-avatar" data-user="71484655" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/lukasmartinelli/" data-action="profile" data-username="lukasmartinelli" data-role="username">Lukas Martinelli</a></span>

<span><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755881021" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> Nikita</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755889450" data-role="relative-time" class="time-ago" title="Tuesday, December 23, 2014 6:27 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Can't we use something other than DJBX33A for hashing string keys like other languages do?</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755889450">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1755889450">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-1755916088"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/disqus_jPeTYUuVub/" class="user" data-action="profile" data-username="disqus_jPeTYUuVub">
<img data-role="user-avatar" data-user="111509876" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_jPeTYUuVub/" data-action="profile" data-username="disqus_jPeTYUuVub" data-role="username">Nikita</a></span>

<span><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755889450" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> Lukas Martinelli</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755916088" data-role="relative-time" class="time-ago" title="Tuesday, December 23, 2014 7:09 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>It doesn't really matter, any hashing function loses information and hence is prone to collisions I think.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755916088">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1755916088">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-1755959825"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/advance512/" class="user" data-action="profile" data-username="advance512">
<img data-role="user-avatar" data-user="53573335" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/advance512/" data-action="profile" data-username="advance512" data-role="username">advance512</a></span>

<span><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755916088" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> Nikita</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755959825" data-role="relative-time" class="time-ago" title="Tuesday, December 23, 2014 8:11 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>True, all hashing functions are prone to collisions. However, not all hashing functions are created equal.</p><p>This is a fun read:<br><a href="http://programmers.stackexchange.com/questions/49550/which-hashing-algorithm-is-best-for-uniqueness-and-speed" rel="nofollow">http://programmers.stackexchan...</a></p><p>Every lookup hash function tries to minimize collisions. This typically means reaching a uniform distribution of the hash value. The hash function designer attempts to "achieve avalanche", that is - reach the state where even a single bit of different in the key results in a wildly different hash value.<br><a href="http://en.wikipedia.org/wiki/Avalanche_effect" rel="nofollow">http://en.wikipedia.org/wiki/A...</a></p><p>That being said, if a hash function has, let's say, 10-15% fewer collisions but takes twice as long to execute, then generally it isn't a price you'd want to pay in most typical Dictionary use cases. Handling collisions isn't *usually* very expensive. Of course, it depends on how "full" a hashtable really is, compared to its table size.</p><p>I'd say PHP hashtables are usually small and with a very small chance of collision, so hashtable speed is more important.</p><p>To mitigate the PHP DoS attack, I'd say other methods of protection should be put up that don't affect the 99% of PHP users that aren't faced with it and shouldn't suffer a performance penalty because of it.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-1" data-action="upvote" title="">

<span class="updatable count" data-role="likes">1</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755959825">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1755959825">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li><li class="post" id="post-1755948812"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/nikic/" class="user" data-action="profile" data-username="nikic">
<img data-role="user-avatar" data-user="18209436" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/nikic/" data-action="profile" data-username="nikic" data-role="username">nikic</a></span>
<span class="badge moderator">Mod</span>

<span><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755916088" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> Nikita</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755948812" data-role="relative-time" class="time-ago" title="Tuesday, December 23, 2014 7:56 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>It's possible to use a keyed cryptographic hash (essentially a PRF) to make these collisions non-exploitable (as the attacker would have to know the generated key to efficiently generate collisions). A popular PRF with performance characteristics that are good enough for hashtables is SipHash, which is used by Python and a number of other languages.</p><p>The primary problem for PHP would be dealing with integer keys - they can cause collisions just as easily (even easier ^^), but running those through a cryptographic hash sounds like it could have serious performance impact. The packed hashtables could help with that (as one common case doesn't need hashing at all). So this probably bears investigating.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755948812">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1755948812">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-1756176822"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/lukasmartinelli/" class="user" data-action="profile" data-username="lukasmartinelli">
<img data-role="user-avatar" data-user="71484655" src="noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header>
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/lukasmartinelli/" data-action="profile" data-username="lukasmartinelli" data-role="username">Lukas Martinelli</a></span>

<span><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1755948812" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> nikic</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756176822" data-role="relative-time" class="time-ago" title="Tuesday, December 23, 2014 11:30 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Very nice sum up.<br> From what I know JSON cannot contain integer keys.<br>Perhaps it is ok to make library makers and sysadmins responsible for dealing with it.</p><p>Quick tricks:<br>- Limit CPU time (30s as default is insane)<br>- Limit Payload size (65k keys for 10seconds in PHP 7 are quite a payload)</p><p>Or the json_decode method could perhaps use an alternative safe implementation of a hash table and then copy it over to a normal hash table or abstract the fact that it is a special hash table.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer>
<menu>

<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="reply">
<i class="icon icon-mobile icon-reply"></i><span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="share">
<a class="toggle"><i class="icon icon-mobile icon-share"></i><span class="text">Share ›</span></a>
<ul>
<li class="twitter"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:twitter">Twitter</a></li>
<li class="facebook"><a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="share:facebook">Facebook</a></li>
<li class="link"><a href="https://nikic.github.io/2014/12/22/PHPs-new-hashtable-implementation.html#comment-1756176822">Link</a></li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:1756176822">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" class="btn btn-small"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>

</li></ul>

</li></ul>

</li></ul>

</li></ul>

</li></ul>

</li></ul>

<div class="load-more" data-role="more" style="display:none">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" data-action="more-posts" class="btn">Load more comments</a>
</div>
</div>

</section>

<div id="placement-bottom" data-tracking-area="discovery-south"><div class="post-list" style="height: auto; visibility: visible;"><div style="display: block; width: 100%;"><div id="discovery-main-c262" class="discovery-main">
<div id="discovery-note" class="discovery-note">
<div class="alert">
<button class="close" data-action="discovery-help-close" title="Close this box">×</button>
Disqus helps you find new and interesting content, discussions and products. Some sponsors and ecommerce sites may pay us for these recommendations and links. <a href="https://help.disqus.com/customer/portal/articles/2069645-reveal-f-a-q-" target="_blank">Learn more</a>
 or <a href="mailto:publisher-success@disqus.com" target="_blank">
give us feedback</a>.
</div>
</div>

<div class="discovery-options">
<button class="discovery-help" data-action="discovery-help">
What's this?
</button>
</div>

<section id="col-organic-c635" class="col-organic discovery-col-0 ">
<header class="discovery-col-header">

<h2>Also on <strong>nikic's Blog</strong>
</h2>


</header>
<ul class="discovery-posts" data-role="discovery-posts"><li class="discovery-post post-0" id="discovery-link-organic-1317440660" data-id="1317440660">
<a href="http://disq.us/url?url=https%3A%2F%2Fnikic.github.io%2F2012%2F01%2F28%2Fhtmlspecialchars-improvements-in-PHP-5-4.html%3A9x8NkrBcSZ5GvITVNwTRSVByIEo&imp=66kl2812oadb4f&prev_imp=66kkael368cr5b&forum_id=1090839&forum=nikic&thread_id=3350770009&thread=1317440660&zone=thread&area=bottom&object_type=thread&object_id=1317440660" class="publisher-anchor-color">

<header class="discovery-post-header">
<h3 title="htmlspecialchars() improvements in PHP 5.4">
<span data-role="discovery-thread-title" class="title line-truncate" data-line-truncate="2">
htmlspecialchars() improvements in PHP 5.4
</span>


</h3>

<ul class="meta">
<li class="comments">
9 comments
</li>
<li class="time">2 years ago</li>
</ul>
</header>

</a><a href="http://disq.us/url?url=https%3A%2F%2Fnikic.github.io%2F2012%2F01%2F28%2Fhtmlspecialchars-improvements-in-PHP-5-4.html%3A9x8NkrBcSZ5GvITVNwTRSVByIEo&imp=66kl2812oadb4f&prev_imp=66kkael368cr5b&forum_id=1090839&forum=nikic&thread_id=3350770009&thread=1317440660&zone=thread&area=bottom&object_type=thread&object_id=1317440660" class="top-comment" data-role="discovery-top-comment">
<img data-src="//a.disquscdn.com/1446615304/images/noavatar92.png" alt="Avatar" data-role="discovery-avatar">
<p><span class="user" data-role="discovery-top-comment-author">Wildalmighty</span> — <span data-role="discovery-top-comment-snippet" class="line-truncate" data-line-truncate="3">Greate! No more nead to pass 3 arguments for htmlspecialchars! Voalaaa!</span></p>
</a>

</li>
<li class="discovery-post post-1" id="discovery-link-organic-3861543161" data-id="3861543161">
<a href="http://disq.us/url?url=https%3A%2F%2Fnikic.github.io%2F2015%2F06%2F19%2FInternal-value-representation-in-PHP-7-part-2.html%3AAEf70uHp78fXLDCoanwd6QFY1j8&imp=66kl2812oadb4f&prev_imp=66kkael368cr5b&forum_id=1090839&forum=nikic&thread_id=3350770009&thread=3861543161&zone=thread&area=bottom&object_type=thread&object_id=3861543161" class="publisher-anchor-color">

<header class="discovery-post-header">
<h3 title="Internal value representation in PHP 7 - Part 2">
<span data-role="discovery-thread-title" class="title line-truncate" data-line-truncate="2">
Internal value representation in PHP 7 - Part 2
</span>


</h3>

<ul class="meta">
<li class="comments">
1 comment
</li>
<li class="time">5 months ago</li>
</ul>
</header>

</a><a href="http://disq.us/url?url=https%3A%2F%2Fnikic.github.io%2F2015%2F06%2F19%2FInternal-value-representation-in-PHP-7-part-2.html%3AAEf70uHp78fXLDCoanwd6QFY1j8&imp=66kl2812oadb4f&prev_imp=66kkael368cr5b&forum_id=1090839&forum=nikic&thread_id=3350770009&thread=3861543161&zone=thread&area=bottom&object_type=thread&object_id=3861543161" class="top-comment" data-role="discovery-top-comment">
<img data-src="//a.disquscdn.com/uploads/users/6585/6856/avatar92.jpg?1434739975" alt="Avatar" data-role="discovery-avatar">
<p><span class="user" data-role="discovery-top-comment-author">Vojtech Kurka</span> — <span data-role="discovery-top-comment-snippet" class="line-truncate" data-line-truncate="3">Thank you!</span></p>
</a>

</li>
<li class="discovery-post post-2" id="discovery-link-organic-2430631764" data-id="2430631764">
<a href="http://disq.us/url?url=https%3A%2F%2Fnikic.github.io%2F2014%2F03%2F14%2FMethods-on-primitive-types-in-PHP.html%3ATPIKVo_oH-TXiloUhc2U9XEwEgI&imp=66kl2812oadb4f&prev_imp=66kkael368cr5b&forum_id=1090839&forum=nikic&thread_id=3350770009&thread=2430631764&zone=thread&area=bottom&object_type=thread&object_id=2430631764" class="publisher-anchor-color">

<header class="discovery-post-header">
<h3 title="Methods on primitive types in PHP">
<span data-role="discovery-thread-title" class="title line-truncate" data-line-truncate="2">
Methods on primitive types in PHP
</span>


</h3>

<ul class="meta">
<li class="comments">
20 comments
</li>
<li class="time">2 years ago</li>
</ul>
</header>

</a><a href="http://disq.us/url?url=https%3A%2F%2Fnikic.github.io%2F2014%2F03%2F14%2FMethods-on-primitive-types-in-PHP.html%3ATPIKVo_oH-TXiloUhc2U9XEwEgI&imp=66kl2812oadb4f&prev_imp=66kkael368cr5b&forum_id=1090839&forum=nikic&thread_id=3350770009&thread=2430631764&zone=thread&area=bottom&object_type=thread&object_id=2430631764" class="top-comment" data-role="discovery-top-comment">
<img data-src="//a.disquscdn.com/uploads/users/5501/4465/avatar92.jpg?1442909865" alt="Avatar" data-role="discovery-avatar">
<p><span class="user" data-role="discovery-top-comment-author">Daniel Rotter</span> — <span data-role="discovery-top-comment-snippet" class="line-truncate" data-line-truncate="3">Totally agree, IMHO the mix between procedural and object oriented APIs is one of the worst things about PHP...</span></p>
</a>

</li>
<li class="discovery-post post-3" id="discovery-link-organic-3148693022" data-id="3148693022">
<a href="http://disq.us/url?url=https%3A%2F%2Fnikic.github.io%2F2011%2F11%2F11%2FPHP-Internals-When-does-foreach-copy.html%3ATRsUBBbatJWvDQOPEGxl0moyoZ0&imp=66kl2812oadb4f&prev_imp=66kkael368cr5b&forum_id=1090839&forum=nikic&thread_id=3350770009&thread=3148693022&zone=thread&area=bottom&object_type=thread&object_id=3148693022" class="publisher-anchor-color">

<header class="discovery-post-header">
<h3 title="PHP internals: When does foreach copy?">
<span data-role="discovery-thread-title" class="title line-truncate" data-line-truncate="2">
PHP internals: When does foreach copy?
</span>


</h3>

<ul class="meta">
<li class="comments">
10 comments
</li>
<li class="time">a year ago</li>
</ul>
</header>

</a><a href="http://disq.us/url?url=https%3A%2F%2Fnikic.github.io%2F2011%2F11%2F11%2FPHP-Internals-When-does-foreach-copy.html%3ATRsUBBbatJWvDQOPEGxl0moyoZ0&imp=66kl2812oadb4f&prev_imp=66kkael368cr5b&forum_id=1090839&forum=nikic&thread_id=3350770009&thread=3148693022&zone=thread&area=bottom&object_type=thread&object_id=3148693022" class="top-comment" data-role="discovery-top-comment">
<img data-src="//a.disquscdn.com/1446615304/images/noavatar92.png" alt="Avatar" data-role="discovery-avatar">
<p><span class="user" data-role="discovery-top-comment-author">ruben</span> — <span data-role="discovery-top-comment-snippet" class="line-truncate" data-line-truncate="3">code examples at viper-7.com are missing :(</span></p>
</a>

</li>
</ul>
</section>

</div>
</div></div></div>

<div id="footer" data-tracking-area="footer">
<ul>
<li class="logo"><a href="https://disqus.com/" rel="nofollow" title="Powered by Disqus">Powered by Disqus</a></li>
<li id="thread-subscribe-button" class="email"> 
<div class="default">
<a href="https://disqus.com/embed/comments/?base=default&version=ffd6cd969affb99107e3b3349c181735&f=nikic&t_i=%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_u=https%3A%2F%2Fnikic.github.io%2F2014%2F12%2F22%2FPHPs-new-hashtable-implementation.html&t_d=PHP%27s%20new%20hashtable%20implementation&t_t=PHP%27s%20new%20hashtable%20implementation&s_o=default#" rel="nofollow" data-action="subscribe" title="Subscribe and get email updates from this discussion"><i aria-hidden="true" class="icon-mail"></i><span class="clip">Subscribe</span> <i aria-hidden="true" class="icon-checkmark"></i></a>
</div>
<div class="form">
<div class="input-wrapper"><input id="thread-subscribe-email" type="email" placeholder="yourname@email.com"></div>
</div>
</li>
<li class="install">
<a href="https://publishers.disqus.com/engage?utm_source=nikic&utm_medium=Disqus-Footer" rel="nofollow" target="_blank">
<i aria-hidden="true" class="icon-disqus"></i>
<span class="clip">Add Disqus to your site</span>
</a>
</li>
<li class="privacy">
<a href="https://help.disqus.com/customer/portal/articles/1657951?utm_source=disqus&utm_medium=embed-footer&utm_content=privacy-btn" rel="nofollow" target="_blank">
<i aria-hidden="true" class="icon-lock"></i>
<span class="clip">Privacy</span>
</a>
</li>
</ul>
</div>
</div></body></html>