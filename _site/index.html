<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      HuS &middot; Time is limited, To be a better man
    
  </title>

  <!-- CSS -->
  <!-- <link rel="stylesheet" href="/public/css/syntax.css"> -->
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="/public/css/pygments.css">
  <link rel="stylesheet" href="/public/css/font-awesome.min.css">
  <!-- <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400"> -->

  <!-- Icons -->
  <!-- <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/img/apple-touch-icon-144-precomposed.png"> -->
  <link rel="shortcut icon" href="/public/img/SooHu.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- livereload test -->
  <!--<script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>-->

  <!-- audioplayer -->
  <script src="/public/js/jquery-1.11.1.js"></script>
  <script src="/public/js/audioplayer/amazingaudioplayer.js"></script>
  <link rel="stylesheet" type="text/css" href="/public/css/audioplayer/initaudioplayer-1.css">



</head>


  <body class="">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <div class="sidebar-logo">
      <a href="/"><img src="/public/img/SooHu.jpg"></a>
    </div>
    <p>Hello,World! Here is my personal weblog about technology and life.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/"><i class="fa fa-home fa-fw"></i>&nbsp 主页·&nbspHome</a>
    <a class="sidebar-nav-item" href="/archive/"><i class="fa fa-file-text-o fa-fw"></i>&nbsp 归档·&nbspArchive</a>
    <a class="sidebar-nav-item" href="/category/"><i class="fa fa-book fa-fw"></i>&nbsp 分类·&nbspCategory</a>
    <a class="sidebar-nav-item" href="/tag/"><i class="fa fa-tags fa-fw"></i>&nbsp 标签·&nbspTag</a>
    <a class="sidebar-nav-item" href="/works/">works</a>
    <a class="sidebar-nav-item" href="/about/"><i class="fa fa-hand-o-right fa-fw"></i>&nbsp 关于·&nbspAbout</a>
    <span class="sidebar-nav-item"><i class="fa fa-info-circle">&nbsp&nbsp  </i>Currently v1.0.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2015. All rights reserved.
    </p>
  </div>
</div>



    

    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <div class="masthead-title">
            <a href="/" title="Home">
              <span data-hover="HuS">HuS</span>
            </a>
            <small>Time is limited, To be a better man</small>
          </div>
        </div>
      </div>

      <div class="container content">
        <div class="posts">
  
  <div class="post">
    <div class="post-heading">
      <img src="/public/img/SooHu.jpg">
      <h1 class="post-title">
        <a class="post-title-home" href="/init/2015/11/04/init/">
          Init
        </a>
      </h1>
        <p class="post-info">
        
          SooHu原创
        
        </p>
        <span class="post-info"><i class="fa fa-calendar"></i>&nbsp2015/11/04  </span>
        <span class="post-info"><i class="fa fa-book"></i>&nbsp<a href="/category/index.html#init">init</a></span>
        <span class="post-info"><i class="fa fa-tags"></i>&nbsp<a href="/tag/index.html#init">init</a></span>  
        <span class="post-info"><a href="/tag/index.html#"></a></span>
        <span class="post-info"><a href="/tag/index.html#"></a></span>
    </div>
    <div class="post-content">
      <h3>目标</h3>

<p>从A页面通过按钮跳转到B，在B页面设置参数，然后返回A页面，并将参数传递回A页面</p>

<h3>实现</h3>

<p>实现两个页面间的数据传输有多种方法</p>

<ul>
<li>使用SharedApplication,定义一个变量来传递</li>
<li>使用文件，或者NSUserdefault来传递</li>
<li>通过一个单例的class来传递</li>
<li>通过Delegate来传递
等</li>
</ul>


<p>然后今天想在Demo里使用delegate完成传值，以为之前看过协议和委托，应该能轻松完成。但是却花了几个小时才完成，下面是含泪总结：</p>

<h3>1. 在B页面.h文件声明协议，并设置公共变量</h3>

<p><figure class="highlight"><pre><code class="language-objective-c" data-lang="objective-c">@protocol SettingViewPassValueDelegate &lt;NSObject&gt;
- (void)passSettingValue:(NSMutableArray <em>)noiseSwitch noiseVolume:(NSMutableArray </em>)noiseVolume;
- (void)passTestValue;
@end</p>

<p>//防止循环引用
@property (nonatomic, weak) id&lt;SettingViewPassValueDelegate&gt; delegate;</code></pre></figure></p>

<h3>2. 在B页面需要的地方调用委托函数</h3>

<p>这里在viewDidAppear时调用。</p>

<p><figure class="highlight"><pre><code class="language-objective-c" data-lang="objective-c">- (void)viewDidAppear:(BOOL)animated
{
    [super viewDidAppear:(BOOL)animated];</p>

<pre><code>[self.delegate passTestValue];
[self.delegate passSettingValue:self.nosieSwitch noiseVolume:self.nosieVolumeValue];
</code></pre>

<p>}</code></pre></figure></p>

<h3>3. 在A页面.m文件接收协议，并实现必要委托函数</h3>

<p><figure class="highlight"><pre><code class="language-objective-c" data-lang="objective-c">#import &quot;B.h&quot;</p>

<p>@interface MeditationViewController () &lt;SettingViewPassValueDelegate&gt;//接受协议
@end</p>

<h1>pragma mark - delagate methods</h1>

<ul>
<li><p>(void)passSettingValue:(NSMutableArray <em>)noiseSwitch noiseVolume:(NSMutableArray </em>)noiseVolume
{
  self.noiseSwitch = noiseSwitch;
  self.noiseVolumeValue = noiseVolume;
  NSLog(@&quot;did i ?&quot;);
}</p></li>
<li><p>(void)passTestValue
{
  NSLog(@&quot;here is delagate&quot;);
}</code></pre></figure></p></li>
</ul>


<h3>4. 最重要的一步！指明委托对象！指明B的委托对象是A-ViewController</h3>

<p>我就是在这一步出错的，因为网上的教程和博客比较老，而且举得例子基本上是抄来抄去，所以我一直没发现我的错误在哪里。
因为我实在storyboard上创建的viewController，并且A页面是通过一个按钮以Segue的方式跳转到B页面，所以我这样设置之后就正确了。</p>

<p><figure class="highlight"><pre><code class="language-objective-c" data-lang="objective-c">- (void)prepareForSegue:(nonnull UIStoryboardSegue <em>)segue sender:(nullable id)sender
{
    if ([segue.identifier isEqualToString:@&quot;toSettingView&quot;]) {//注意设置segue的id
        SettingViewController </em>svc = [[SettingViewController alloc] init];
        svc = segue.destinationViewController;
        svc.delegate = self;//就是在这里设置委托对象
    }
}</code></pre></figure></p>

<p>我之前想通过下面的代码设置委托对象，结果发现是错误的：</p>

<p><figure class="highlight"><pre><code class="language-objective-c" data-lang="objective-c">UIStoryboard<em> storyboard = [UIStoryboard storyboardWithName:@&quot;main&quot; bundle:[NSBundle mainBundle]];
SettingViewController </em>settingViewController = (SettingViewController *)[storyboard instantiateViewControllerWithIdentifier:@&quot;SettingViewController&quot;];</code></pre></figure></p>

<p><code>NSLog</code>了一下，发现Segue后出现的SettingViewController实例和上面代码获得的实例是不同的。原因暂时还没研究，先这样了。</p>

      <div class="readmore">
        <a href="/init/2015/11/04/init/"><i class="fa fa-hand-o-right"></i>&nbsp阅读全文</a>
      </div>
    </div>
  </div>
  
  <div class="post">
    <div class="post-heading">
      <img src="/public/img/SooHu.jpg">
      <h1 class="post-title">
        <a class="post-title-home" href="/ios/2015/05/13/ios%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%88%A9%E7%94%A8delegate%E5%AE%9E%E7%8E%B0%E4%B8%A4%E4%B8%AA%E9%A1%B5%E9%9D%A2%E9%97%B4%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/">
          Ios学习笔记——利用delegate实现两个页面间的数据传输
        </a>
      </h1>
        <p class="post-info">
        
          SooHu原创
        
        </p>
        <span class="post-info"><i class="fa fa-calendar"></i>&nbsp2015/05/13  </span>
        <span class="post-info"><i class="fa fa-book"></i>&nbsp<a href="/category/index.html#iOS">iOS</a></span>
        <span class="post-info"><i class="fa fa-tags"></i>&nbsp<a href="/tag/index.html#iOS">iOS</a></span>  
        <span class="post-info"><a href="/tag/index.html#"></a></span>
        <span class="post-info"><a href="/tag/index.html#"></a></span>
    </div>
    <div class="post-content">
      <h3>目标</h3>

<p>从A页面通过按钮跳转到B，在B页面设置参数，然后返回A页面，并将参数传递回A页面</p>

<h3>实现</h3>

<p>实现两个页面间的数据传输有多种方法</p>

<ul>
<li>使用SharedApplication,定义一个变量来传递</li>
<li>使用文件，或者NSUserdefault来传递</li>
<li>通过一个单例的class来传递</li>
<li>通过Delegate来传递
等</li>
</ul>


<p>然后今天想在Demo里使用delegate完成传值，以为之前看过协议和委托，应该能轻松完成。但是却花了几个小时才完成，下面是含泪总结：</p>

<h3>1. 在B页面.h文件声明协议，并设置公共变量</h3>

<p><figure class="highlight"><pre><code class="language-objective-c" data-lang="objective-c">@protocol SettingViewPassValueDelegate &lt;NSObject&gt;
- (void)passSettingValue:(NSMutableArray <em>)noiseSwitch noiseVolume:(NSMutableArray </em>)noiseVolume;
- (void)passTestValue;
@end</p>

<p>//防止循环引用
@property (nonatomic, weak) id&lt;SettingViewPassValueDelegate&gt; delegate;</code></pre></figure></p>

<h3>2. 在B页面需要的地方调用委托函数</h3>

<p>这里在viewDidAppear时调用。</p>

<p><figure class="highlight"><pre><code class="language-objective-c" data-lang="objective-c">- (void)viewDidAppear:(BOOL)animated
{
    [super viewDidAppear:(BOOL)animated];</p>

<pre><code>[self.delegate passTestValue];
[self.delegate passSettingValue:self.nosieSwitch noiseVolume:self.nosieVolumeValue];
</code></pre>

<p>}</code></pre></figure></p>

<h3>3. 在A页面.m文件接收协议，并实现必要委托函数</h3>

<p><figure class="highlight"><pre><code class="language-objective-c" data-lang="objective-c">#import &quot;B.h&quot;</p>

<p>@interface MeditationViewController () &lt;SettingViewPassValueDelegate&gt;//接受协议
@end</p>

<h1>pragma mark - delagate methods</h1>

<ul>
<li><p>(void)passSettingValue:(NSMutableArray <em>)noiseSwitch noiseVolume:(NSMutableArray </em>)noiseVolume
{
  self.noiseSwitch = noiseSwitch;
  self.noiseVolumeValue = noiseVolume;
  NSLog(@&quot;did i ?&quot;);
}</p></li>
<li><p>(void)passTestValue
{
  NSLog(@&quot;here is delagate&quot;);
}</code></pre></figure></p></li>
</ul>


<h3>4. 最重要的一步！指明委托对象！指明B的委托对象是A-ViewController</h3>

<p>我就是在这一步出错的，因为网上的教程和博客比较老，而且举得例子基本上是抄来抄去，所以我一直没发现我的错误在哪里。
因为我实在storyboard上创建的viewController，并且A页面是通过一个按钮以Segue的方式跳转到B页面，所以我这样设置之后就正确了。</p>

<p><figure class="highlight"><pre><code class="language-objective-c" data-lang="objective-c">- (void)prepareForSegue:(nonnull UIStoryboardSegue <em>)segue sender:(nullable id)sender
{
    if ([segue.identifier isEqualToString:@&quot;toSettingView&quot;]) {//注意设置segue的id
        SettingViewController </em>svc = [[SettingViewController alloc] init];
        svc = segue.destinationViewController;
        svc.delegate = self;//就是在这里设置委托对象
    }
}</code></pre></figure></p>

<p>我之前想通过下面的代码设置委托对象，结果发现是错误的：</p>

<p><figure class="highlight"><pre><code class="language-objective-c" data-lang="objective-c">UIStoryboard<em> storyboard = [UIStoryboard storyboardWithName:@&quot;main&quot; bundle:[NSBundle mainBundle]];
SettingViewController </em>settingViewController = (SettingViewController *)[storyboard instantiateViewControllerWithIdentifier:@&quot;SettingViewController&quot;];</code></pre></figure></p>

<p><code>NSLog</code>了一下，发现Segue后出现的SettingViewController实例和上面代码获得的实例是不同的。原因暂时还没研究，先这样了。</p>

      <div class="readmore">
        <a href="/ios/2015/05/13/ios%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%88%A9%E7%94%A8delegate%E5%AE%9E%E7%8E%B0%E4%B8%A4%E4%B8%AA%E9%A1%B5%E9%9D%A2%E9%97%B4%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/"><i class="fa fa-hand-o-right"></i>&nbsp阅读全文</a>
      </div>
    </div>
  </div>
  
  <div class="post">
    <div class="post-heading">
      <img src="/public/img/SooHu.jpg">
      <h1 class="post-title">
        <a class="post-title-home" href="/ios/2015/05/08/ios%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E8%AE%BE%E7%BD%AE%E5%AF%BC%E8%88%AA%E6%A0%8F%E5%85%A8%E9%80%8F%E6%98%8E%E6%95%88%E6%9E%9C/">
          Ios学习笔记——设置导航栏全透明效果
        </a>
      </h1>
        <p class="post-info">
        
          SooHu原创
        
        </p>
        <span class="post-info"><i class="fa fa-calendar"></i>&nbsp2015/05/08  </span>
        <span class="post-info"><i class="fa fa-book"></i>&nbsp<a href="/category/index.html#iOS">iOS</a></span>
        <span class="post-info"><i class="fa fa-tags"></i>&nbsp<a href="/tag/index.html#iOS">iOS</a></span>  
        <span class="post-info"><a href="/tag/index.html#"></a></span>
        <span class="post-info"><a href="/tag/index.html#"></a></span>
    </div>
    <div class="post-content">
      <h3>状态栏全透明效果</h3>

<p>今天想在Demo里设置导航栏全透明效果，并与视图背景颜色相同。查找方法的过程中发现网上的一些方法不是很适用，然后看了下文档，试了一下，发现以下两句代码就可以实现效果。</p>

<p>文档说明：</p>

<p><code>The default value is nil, which corresponds to the default shadow image. When non-nil, this property represents a custom shadow image to show instead of the default. For a custom shadow image to be shown, a custom background image must also be set with the setBackgroundImage:forBarMetrics: method. If the default background image is used, then the default shadow image will be used regardless of the value of this property.</code></p>

<p>代码：</p>

<p><figure class="highlight"><pre><code class="language-objective-c" data-lang="objective-c">[[UINavigationBar appearance] setBackgroundImage:[[UIImage alloc] init]
    forBarMetrics:UIBarMetricsDefault];
[[UINavigationBar appearance] setShadowImage: [[UIImage alloc] init]];</code></pre></figure></p>

<h3>设置状态栏样式</h3>

<p>顺便记录一下如何设置状态栏样式</p>

<p>1.设置项目Info中项目属性，添加View controller-based status bar appearance，设置为NO</p>

<p><img src="http://7tszki.com1.z0.glb.clouddn.com/20150615-2.png" alt="" /></p>

<p>2.设置代码</p>

<p><figure class="highlight"><pre><code class="language-objective-c" data-lang="objective-c">[UIApplication sharedApplication].statusBarStyle = UIStatusBarStyleLightContent;</code></pre></figure></p>

<p>整体效果图如下：
<img src="http://7tszki.com1.z0.glb.clouddn.com/%E7%8A%B6%E6%80%81%E6%A0%8F%E9%80%8F%E6%98%8E%E6%95%88%E6%9E%9C.png" alt="" /></p>

      <div class="readmore">
        <a href="/ios/2015/05/08/ios%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E8%AE%BE%E7%BD%AE%E5%AF%BC%E8%88%AA%E6%A0%8F%E5%85%A8%E9%80%8F%E6%98%8E%E6%95%88%E6%9E%9C/"><i class="fa fa-hand-o-right"></i>&nbsp阅读全文</a>
      </div>
    </div>
  </div>
  
  <div class="post">
    <div class="post-heading">
      <img src="/public/img/SooHu.jpg">
      <h1 class="post-title">
        <a class="post-title-home" href="/ios/2015/05/02/ios%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E6%B7%BB%E5%8A%A0%E9%9F%B3%E6%95%88%E5%92%8C%E6%92%AD%E6%94%BE%E9%9F%B3%E4%B9%90/">
          Ios学习笔记——添加音效和播放音乐
        </a>
      </h1>
        <p class="post-info">
        
          SooHu原创
        
        </p>
        <span class="post-info"><i class="fa fa-calendar"></i>&nbsp2015/05/02  </span>
        <span class="post-info"><i class="fa fa-book"></i>&nbsp<a href="/category/index.html#iOS">iOS</a></span>
        <span class="post-info"><i class="fa fa-tags"></i>&nbsp<a href="/tag/index.html#iOS">iOS</a></span>  
        <span class="post-info"><a href="/tag/index.html#"></a></span>
        <span class="post-info"><a href="/tag/index.html#"></a></span>
    </div>
    <div class="post-content">
      <h3>给Button添加音效</h3>

<p><figure class="highlight"><pre><code class="language-objective-c" data-lang="objective-c">#import &lt;AudioToolbox/AudioToolbox.h&gt;</p>

<p>@interface WebViewController () &lt;UIWebViewDelegate&gt;
{
    SystemSoundID soundID;//实例变量
}
@end</p>

<ul>
<li>(IBAction)goForward:(id)sender
{
  if (self.webView.canGoForward) {
      [self.webView goForward];
  }
  //传入音效名称和后缀名
  [self playSoundEffect:@&quot;pop&quot; type:@&quot;wav&quot;];
}</li>
</ul>


<p>-(void)playSoundEffect:(NSString <em>)name type:(NSString </em>)type
{
    //得到音效文件的地址
    NSString <em>soundFilePath =[[NSBundle mainBundle] pathForResource:name ofType:type];
    //将地址字符串转换成url
    NSURL </em>soundURL = [NSURL fileURLWithPath:soundFilePath];</p>

<pre><code>//生成系统音效id
AudioServicesCreateSystemSoundID((__bridge CFURLRef)soundURL, &amp;amp;soundID);
//播放系统音效
AudioServicesPlaySystemSound(soundID);
</code></pre>

<p>}</code></pre></figure></p>

<h3>点击Button播放音乐</h3>

<p><figure class="highlight"><pre><code class="language-objective-c" data-lang="objective-c">#import &quot;ViewController.h&quot;</p>

<h1>import &lt;AVFoundation/AVFoundation.h&gt;//导入AVFoundation库</h1>

<p>@interface ViewController () &lt;AVAudioPlayerDelegate&gt;//接受委托
@property AVAudioPlayer *player;
@end</p>

<ul>
<li><p>(IBAction)play:(id)sender
{
  NSString <em>soundFilePath = [[NSBundle mainBundle] pathForResource:@&quot;life&quot; ofType:@&quot;mp3&quot;];
  if (soundFilePath) {
      NSURL </em>soundURL = [NSURL fileURLWithPath:soundFilePath];
      NSLog(@&quot;%@&quot;,soundURL);
      NSError <em>error = nil;
      AVAudioPlayer </em>player = [[AVAudioPlayer alloc] initWithContentsOfURL:soundURL error:&amp;error];</p>

<pre><code>  self.player = player;
  self.player.volume = 1;
  self.player.numberOfLoops = 0;
  self.player.delegate = self;//设置委托
  [self.player prepareToPlay];
  if(error){
      NSLog(@&amp;quot;初始化播放器过程发生错误,错误信息:%@&amp;quot;,error.localizedDescription);
  }
  [self.player play];
</code></pre>

<p>  }
}</code></pre></figure></p></li>
</ul>


      <div class="readmore">
        <a href="/ios/2015/05/02/ios%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E6%B7%BB%E5%8A%A0%E9%9F%B3%E6%95%88%E5%92%8C%E6%92%AD%E6%94%BE%E9%9F%B3%E4%B9%90/"><i class="fa fa-hand-o-right"></i>&nbsp阅读全文</a>
      </div>
    </div>
  </div>
  
  <div class="post">
    <div class="post-heading">
      <img src="/public/img/SooHu.jpg">
      <h1 class="post-title">
        <a class="post-title-home" href="/ios/2015/04/01/ios%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E6%B7%BB%E5%8A%A0%E6%89%8B%E5%8A%BF%E6%93%8D%E4%BD%9C/">
          Ios学习笔记——添加手势操作
        </a>
      </h1>
        <p class="post-info">
        
          SooHu原创
        
        </p>
        <span class="post-info"><i class="fa fa-calendar"></i>&nbsp2015/04/01  </span>
        <span class="post-info"><i class="fa fa-book"></i>&nbsp<a href="/category/index.html#iOS">iOS</a></span>
        <span class="post-info"><i class="fa fa-tags"></i>&nbsp<a href="/tag/index.html#iOS">iOS</a></span>  
        <span class="post-info"><a href="/tag/index.html#"></a></span>
        <span class="post-info"><a href="/tag/index.html#"></a></span>
    </div>
    <div class="post-content">
      <h3>UIGestureRecognizer抽象类</h3>

<p>UIGestureRecognizer抽象类不能直接使用，而是使用它的不同子类。</p>

<ul>
<li>UITapGestureRecognizer: 点击</li>
<li>UISwipeGestureRecognizer: 滑动</li>
<li>UIPanGestureRecognizer: 滑动</li>
<li>UIPinchGestureRecognizer: 缩放</li>
<li>UIRotationGestureRecognizer: 转换方向</li>
<li>UILongPressGestureRecognizer: 长按操作</li>
<li>UIScreenEdgePanGestureRecognizer: 边缘滑动</li>
</ul>


<h3>如何在视图中添加手势操作</h3>

<h4>步骤一：创建并初始化UIGestureRecognizer的子类</h4>

<p><figure class="highlight"><pre><code class="language-objective-c" data-lang="objective-c">//创建初始化一个UIGestureRecognizer的子类UITapGestureRecognizer，target是self，动作是handleSingleTapGesture:
UITapGestureRecognizer <em>singleTapGestureRecognizer = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleSingleTapGesture:)];
//添加双击手势识别
UITapGestureRecognizer </em>doubleTapGestureRecognizer = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleDoubleTapGesture:)];</p>

<p>//在识别手势前对单击手势暂不识别
[singleTapGestureRecognizer requireGestureRecognizerToFail:doubleTapGestureRecognizer];</p>

<p>doubleTapGestureRecognizer.numberOfTapsRequired = 2;
doubleTapGestureRecognizer.delaysTouchesBegan = YES;</code></pre></figure></p>

<p>根据需要设置UIGestureRecognizer的属性</p>

<h4>步骤二：将手势依附到相应的视图上</h4>

<p><figure class="highlight"><pre><code class="language-objective-c" data-lang="objective-c">[self.testView addGestureRecognizer:singleTapGestureRecognizer];
[self.testView addGestureRecognizer:doubleTapGestureRecognizer];</code></pre></figure></p>

<h4>步骤三：实现手势事件</h4>

<p><figure class="highlight"><pre><code class="language-objective-c" data-lang="objective-c">- (void)handleSingleTapGesture:(UITapGestureRecognizer *)tapGestureRecognizer
{
    CGFloat newWidth = 100.0;
    if (self.testView.frame.size.width == 100.0) {
        newWidth = 200.0;
    }</p>

<pre><code>CGPoint currentCenter = self.testView.center;

self.testView.frame = CGRectMake(self.testView.frame.origin.x, self.testView.frame.origin.y, newWidth, self.testView.frame.size.height);
self.testView.center = currentCenter;
</code></pre>

<p>}</p>

<ul>
<li><p>(void)handleDoubleTapGesture:(UITapGestureRecognizer *)tapGestureRecognizer
{
  CGSize newSize = CGSizeMake(100.0, 100.0);
  if (self.testView.frame.size.width == 100.0) {
      newSize.width = 200.0;
      newSize.height = 200.0;
  }</p>

<p>  CGPoint currentCenter = self.testView.center;</p>

<p>  self.testView.frame = CGRectMake(self.testView.frame.origin.x, self.testView.frame.origin.y, newSize.width, newSize.height);
  self.testView.center = currentCenter;
}</code></pre></figure></p></li>
</ul>


      <div class="readmore">
        <a href="/ios/2015/04/01/ios%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E6%B7%BB%E5%8A%A0%E6%89%8B%E5%8A%BF%E6%93%8D%E4%BD%9C/"><i class="fa fa-hand-o-right"></i>&nbsp阅读全文</a>
      </div>
    </div>
  </div>
  
</div>

<div class="pagination">
  
    <span class="pagination-item newer">已经是最新的博文</span>
  

  
    <a class="pagination-item older" href="/page2">更早的博文</a>
  
</div>


      </div>
    </div>
    
    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    <div class="footer">
  <p>  Copyright © 2015 - <a href="/">HuS</a> - Powered by 
    <a href="http://jekyllrb.com/">Jekyll</a>.
    <a href="http://github.com/">Github</a>
  </p>
  <ul>
    <li><a href="/"><i class="fa fa-twitter fa-2x"></i></a></li>
    <li><a href="https://github.com/SooHu"><i class="fa fa-github fa-2x"></i></a></li>
    <li><a href="https://www.linkedin.com/nhome/?trk="><i class="fa fa-linkedin fa-2x"></i></a></li>
  </ul>
</div>

    <!-- "The ending isn’t any more important than the moments leading to it." -Dr. Eva Rosalene, To The Moon -->
  </body>
</html>
